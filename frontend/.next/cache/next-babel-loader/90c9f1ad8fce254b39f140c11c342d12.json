{"ast":null,"code":"var _jsxFileName = \"/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/pages/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport Layout from '../components/publicLayout';\nimport PostLink from '../components/postLink';\nimport fetch from 'isomorphic-unfetch';\n\nconst Index = props => __jsx(Layout, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 7\n  },\n  __self: this\n}, props.posts.map(post => __jsx(\"li\", {\n  key: post.id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 9\n  },\n  __self: this\n}, __jsx(Link, {\n  href: \"/[year]/[month]/[slug]\",\n  params: {\n    slug: post.slug\n  },\n  as: `/${post.slug}`,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 10\n  },\n  __self: this\n}, __jsx(\"a\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 11\n  },\n  __self: this\n}, post.title)))));\n\nIndex.getInitialProps = async function () {\n  const jsonBody = {\n    maxID: \"-1\"\n  };\n  const res = await fetch('http://localhost:8080/api/v1/posts/get', {\n    method: 'post',\n    body: JSON.stringify(jsonBody)\n  });\n  const reqRes = await res.json();\n  console.log(`Show data fetched. Count: ${reqRes.pagination.perPage}`);\n  return {\n    posts: reqRes.data.map(post => post)\n  };\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/pages/index.js"],"names":["Link","Layout","PostLink","fetch","Index","props","posts","map","post","id","slug","title","getInitialProps","jsonBody","maxID","res","method","body","JSON","stringify","reqRes","json","console","log","pagination","perPage","data"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,4BAAnB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,KAAP,MAAkB,oBAAlB;;AAEA,MAAMC,KAAK,GAAGC,KAAK,IACX,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACKA,KAAK,CAACC,KAAN,CAAYC,GAAZ,CAAgBC,IAAI,IACjB;AAAI,EAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACA,MAAC,IAAD;AAAM,EAAA,IAAI,EAAC,wBAAX;AAAoC,EAAA,MAAM,EAAE;AAACC,IAAAA,IAAI,EAAEF,IAAI,CAACE;AAAZ,GAA5C;AAA+D,EAAA,EAAE,EAAG,IAAGF,IAAI,CAACE,IAAK,EAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAIF,IAAI,CAACG,KAAT,CADA,CADA,CADH,CADL,CADR;;AAYAP,KAAK,CAACQ,eAAN,GAAwB,kBAAiB;AACrC,QAAMC,QAAQ,GAAG;AACbC,IAAAA,KAAK,EAAE;AADM,GAAjB;AAGA,QAAMC,GAAG,GAAG,MAAMZ,KAAK,CAAC,wCAAD,EAA2C;AAC9Da,IAAAA,MAAM,EAAE,MADsD;AAE9DC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,QAAf;AAFwD,GAA3C,CAAvB;AAIA,QAAMO,MAAM,GAAG,MAAML,GAAG,CAACM,IAAJ,EAArB;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAa,6BAA4BH,MAAM,CAACI,UAAP,CAAkBC,OAAQ,EAAnE;AAEA,SAAO;AACLnB,IAAAA,KAAK,EAAEc,MAAM,CAACM,IAAP,CAAYnB,GAAZ,CAAgBC,IAAI,IAAIA,IAAxB;AADF,GAAP;AAGH,CAfD;;AAiBA,eAAeJ,KAAf","sourcesContent":["import Link from 'next/link';\nimport Layout from '../components/publicLayout';\nimport PostLink from '../components/postLink';\nimport fetch from 'isomorphic-unfetch'\n\nconst Index = props => (\n        <Layout>\n            {props.posts.map(post => (\n                <li key={post.id}>\n                <Link href=\"/[year]/[month]/[slug]\" params={{slug: post.slug}} as={`/${post.slug}`}>\n                <a>{post.title}</a>\n                </Link>\n                </li>\n            ))}\n        </Layout>\n);\n\nIndex.getInitialProps = async function() {\n    const jsonBody = {\n        maxID: \"-1\"\n    }\n    const res = await fetch('http://localhost:8080/api/v1/posts/get', {\n        method: 'post',\n        body: JSON.stringify(jsonBody)\n    });\n    const reqRes = await res.json();\n  \n    console.log(`Show data fetched. Count: ${reqRes.pagination.perPage}`);\n  \n    return {\n      posts: reqRes.data.map(post => post)\n    };\n};\n\nexport default Index;\n"]},"metadata":{},"sourceType":"module"}