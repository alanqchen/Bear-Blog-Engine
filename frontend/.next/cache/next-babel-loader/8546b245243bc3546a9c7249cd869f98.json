{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nvar _jsxFileName = \"/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/pages/[year]/[month]/[slug]/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nexport default function About() {\n  var router = useRouter();\n  var slug = router.asPath; // remove \"/\"\n\n  slug = slug.substr(1);\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, \"Goto Index\")), __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, slug), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, \"This is a post!\"));\n}\n\nIndex.getInitialProps = function _callee() {\n  var router, slug, jsonBody, res, reqRes;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          router = useRouter();\n          slug = router.asPath; // remove \"/\"\n\n          slug = slug.substr(1);\n          jsonBody = {\n            maxID: \"-1\"\n          };\n          _context.next = 6;\n          return _regeneratorRuntime.awrap(fetch('http://localhost:8080/api/v1/posts/' + slug, {\n            method: 'post',\n            body: _JSON$stringify(jsonBody)\n          }));\n\n        case 6:\n          res = _context.sent;\n          _context.next = 9;\n          return _regeneratorRuntime.awrap(res.json());\n\n        case 9:\n          reqRes = _context.sent;\n          console.log(\"Show data fetched. Count: \".concat(reqRes.pagination.perPage));\n          return _context.abrupt(\"return\", {\n            posts: reqRes.data.map(function (post) {\n              return post;\n            })\n          });\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  });\n};","map":{"version":3,"sources":["/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/pages/[year]/[month]/[slug]/index.js"],"names":["Link","useRouter","About","router","slug","asPath","substr","Index","getInitialProps","jsonBody","maxID","fetch","method","body","res","json","reqRes","console","log","pagination","perPage","posts","data","map","post"],"mappings":";;;;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AAEA,eAAe,SAASC,KAAT,GAAiB;AAC5B,MAAMC,MAAM,GAAGF,SAAS,EAAxB;AACA,MAAIG,IAAI,GAAGD,MAAM,CAACE,MAAlB,CAF4B,CAG5B;;AACAD,EAAAA,IAAI,GAAGA,IAAI,CAACE,MAAL,CAAY,CAAZ,CAAP;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAf,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,IAAL,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHF,CADF;AAOH;;AAEDG,KAAK,CAACC,eAAN,GAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBL,UAAAA,MADgB,GACPF,SAAS,EADF;AAEhBG,UAAAA,IAFgB,GAETD,MAAM,CAACE,MAFE,EAGpB;;AACAD,UAAAA,IAAI,GAAGA,IAAI,CAACE,MAAL,CAAY,CAAZ,CAAP;AACIG,UAAAA,QALgB,GAKL;AACbC,YAAAA,KAAK,EAAE;AADM,WALK;AAAA;AAAA,2CAQJC,KAAK,CAAC,wCAAwCP,IAAzC,EAA+C;AAClEQ,YAAAA,MAAM,EAAE,MAD0D;AAElEC,YAAAA,IAAI,EAAE,gBAAeJ,QAAf;AAF4D,WAA/C,CARD;;AAAA;AAQhBK,UAAAA,GARgB;AAAA;AAAA,2CAYDA,GAAG,CAACC,IAAJ,EAZC;;AAAA;AAYhBC,UAAAA,MAZgB;AActBC,UAAAA,OAAO,CAACC,GAAR,qCAAyCF,MAAM,CAACG,UAAP,CAAkBC,OAA3D;AAdsB,2CAgBf;AACLC,YAAAA,KAAK,EAAEL,MAAM,CAACM,IAAP,CAAYC,GAAZ,CAAgB,UAAAC,IAAI;AAAA,qBAAIA,IAAJ;AAAA,aAApB;AADF,WAhBe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB","sourcesContent":["import Link from 'next/link';\nimport { useRouter } from 'next/router';\n\nexport default function About() {\n    const router = useRouter();\n    let slug = router.asPath;\n    // remove \"/\"\n    slug = slug.substr(1);\n    return (\n      <div>\n        <Link href=\"/\"><a>Goto Index</a></Link>\n        <h1>{slug}</h1>\n        <p>This is a post!</p>\n      </div>\n    );\n}\n\nIndex.getInitialProps = async function() {\n  const router = useRouter();\n    let slug = router.asPath;\n    // remove \"/\"\n    slug = slug.substr(1);\n  const jsonBody = {\n      maxID: \"-1\"\n  }\n  const res = await fetch('http://localhost:8080/api/v1/posts/' + slug, {\n      method: 'post',\n      body: JSON.stringify(jsonBody)\n  });\n  const reqRes = await res.json();\n\n  console.log(`Show data fetched. Count: ${reqRes.pagination.perPage}`);\n\n  return {\n    posts: reqRes.data.map(post => post)\n  };\n};\n"]},"metadata":{},"sourceType":"module"}