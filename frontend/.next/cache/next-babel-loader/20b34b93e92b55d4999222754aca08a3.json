{"ast":null,"code":"var _jsxFileName = \"/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/pages/[year]/[month]/[slug]/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport Layout from '../../../../components/publicLayout';\n\nconst Index = props => {\n  __jsx(Layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 6\n    },\n    __self: this\n  }, props.posts.map(post => __jsx(\"li\", {\n    key: post.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/[year]/[month]/[slug]\",\n    params: {\n      slug: post.slug\n    },\n    as: `/${post.slug}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, post.title)))));\n\n  const router = useRouter();\n  let slug = router.asPath; // remove \"/\"\n\n  slug = slug.substr(1);\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21\n    },\n    __self: this\n  }, \"Goto Index\")), __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 22\n    },\n    __self: this\n  }, post.title), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23\n    },\n    __self: this\n  }, \"This is a post!\"));\n};\n\nIndex.getInitialProps = async ctx => {\n  let res = await fetch(`http://localhost:8080/api/v1/posts${ctx.asPath}`);\n  const post = await res.json();\n\n  if (post.error && res) {\n    res.statusCode = 404;\n  }\n\n  console.log(`Show data fetched. Count: ${post.data.id}`);\n  return post;\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/pages/[year]/[month]/[slug]/index.js"],"names":["Link","useRouter","Layout","Index","props","posts","map","post","id","slug","title","router","asPath","substr","getInitialProps","ctx","res","fetch","json","error","statusCode","console","log","data"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;AACA,OAAOC,MAAP,MAAmB,qCAAnB;;AAEA,MAAMC,KAAK,GAAGC,KAAK,IAAI;AACrB,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKA,KAAK,CAACC,KAAN,CAAYC,GAAZ,CAAgBC,IAAI,IACjB;AAAI,IAAA,GAAG,EAAEA,IAAI,CAACC,EAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,wBAAX;AAAoC,IAAA,MAAM,EAAE;AAACC,MAAAA,IAAI,EAAEF,IAAI,CAACE;AAAZ,KAA5C;AAA+D,IAAA,EAAE,EAAG,IAAGF,IAAI,CAACE,IAAK,EAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIF,IAAI,CAACG,KAAT,CADA,CADA,CADH,CADL;;AASA,QAAMC,MAAM,GAAGV,SAAS,EAAxB;AACA,MAAIQ,IAAI,GAAGE,MAAM,CAACC,MAAlB,CAXqB,CAYrB;;AACAH,EAAAA,IAAI,GAAGA,IAAI,CAACI,MAAL,CAAY,CAAZ,CAAP;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAf,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKN,IAAI,CAACG,KAAV,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHF,CADF;AAOD,CArBD;;AAuBAP,KAAK,CAACW,eAAN,GAAwB,MAAMC,GAAN,IAAa;AAEnC,MAAIC,GAAG,GAAG,MAAMC,KAAK,CAAE,qCAAoCF,GAAG,CAACH,MAAO,EAAjD,CAArB;AACA,QAAML,IAAI,GAAG,MAAMS,GAAG,CAACE,IAAJ,EAAnB;;AAEA,MAAIX,IAAI,CAACY,KAAL,IAAcH,GAAlB,EAAuB;AACrBA,IAAAA,GAAG,CAACI,UAAJ,GAAiB,GAAjB;AACD;;AAEDC,EAAAA,OAAO,CAACC,GAAR,CAAa,6BAA4Bf,IAAI,CAACgB,IAAL,CAAUf,EAAG,EAAtD;AAEA,SAAOD,IAAP;AACD,CAZD;;AAcA,eAAeJ,KAAf","sourcesContent":["import Link from 'next/link';\nimport { useRouter } from 'next/router';\nimport Layout from '../../../../components/publicLayout'\n\nconst Index = props => {\n  <Layout>\n      {props.posts.map(post => (\n          <li key={post.id}>\n          <Link href=\"/[year]/[month]/[slug]\" params={{slug: post.slug}} as={`/${post.slug}`}>\n          <a>{post.title}</a>\n          </Link>\n          </li>\n      ))}\n  </Layout>\n  const router = useRouter();\n  let slug = router.asPath;\n  // remove \"/\"\n  slug = slug.substr(1);\n  return (\n    <div>\n      <Link href=\"/\"><a>Goto Index</a></Link>\n      <h1>{post.title}</h1>\n      <p>This is a post!</p>\n    </div>\n  );\n}\n\nIndex.getInitialProps = async ctx => {\n\n  let res = await fetch(`http://localhost:8080/api/v1/posts${ctx.asPath}`);\n  const post = await res.json();\n\n  if (post.error && res) {\n    res.statusCode = 404;\n  }\n\n  console.log(`Show data fetched. Count: ${post.data.id}`);\n\n  return post;\n};\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}