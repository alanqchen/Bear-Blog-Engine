{"ast":null,"code":"var _jsxFileName = \"/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/pages/[year]/[month]/[slug]/index.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Link from 'next/link';\nimport { useRouter } from 'next/router';\n\nconst Index = props => {\n  const router = useRouter();\n  let slug = router.asPath; // remove \"/\"\n\n  slug = slug.substr(1);\n  return __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10\n    },\n    __self: this\n  }, __jsx(Link, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, __jsx(\"a\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, \"Goto Index\")), __jsx(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, slug), __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 13\n    },\n    __self: this\n  }, \"This is a post!\"));\n};\n\nIndex.getInitialProps = async function () {\n  const jsonBody = {\n    maxID: \"-1\"\n  };\n  const res = await fetch('http://localhost:8080/api/v1/posts/' + this.props.url.query.slug, {\n    method: 'post',\n    body: JSON.stringify(jsonBody)\n  });\n  const reqRes = await res.json();\n  console.log(`Show data fetched. Count: ${reqRes.pagination.perPage}`);\n  return {\n    posts: reqRes.data.map(post => post)\n  };\n};\n\nexport default Index;","map":{"version":3,"sources":["/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/pages/[year]/[month]/[slug]/index.js"],"names":["Link","useRouter","Index","props","router","slug","asPath","substr","getInitialProps","jsonBody","maxID","res","fetch","url","query","method","body","JSON","stringify","reqRes","json","console","log","pagination","perPage","posts","data","map","post"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,SAASC,SAAT,QAA0B,aAA1B;;AAEA,MAAMC,KAAK,GAAGC,KAAK,IAAI;AACnB,QAAMC,MAAM,GAAGH,SAAS,EAAxB;AACA,MAAII,IAAI,GAAGD,MAAM,CAACE,MAAlB,CAFmB,CAGnB;;AACAD,EAAAA,IAAI,GAAGA,IAAI,CAACE,MAAL,CAAY,CAAZ,CAAP;AACA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAf,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAKF,IAAL,CAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAHF,CADF;AAOH,CAZD;;AAcAH,KAAK,CAACM,eAAN,GAAwB,kBAAiB;AAEvC,QAAMC,QAAQ,GAAG;AACbC,IAAAA,KAAK,EAAE;AADM,GAAjB;AAGA,QAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,wCAAwC,KAAKT,KAAL,CAAWU,GAAX,CAAeC,KAAf,CAAqBT,IAA9D,EAAoE;AACvFU,IAAAA,MAAM,EAAE,MAD+E;AAEvFC,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,QAAf;AAFiF,GAApE,CAAvB;AAIA,QAAMU,MAAM,GAAG,MAAMR,GAAG,CAACS,IAAJ,EAArB;AAEAC,EAAAA,OAAO,CAACC,GAAR,CAAa,6BAA4BH,MAAM,CAACI,UAAP,CAAkBC,OAAQ,EAAnE;AAEA,SAAO;AACLC,IAAAA,KAAK,EAAEN,MAAM,CAACO,IAAP,CAAYC,GAAZ,CAAgBC,IAAI,IAAIA,IAAxB;AADF,GAAP;AAGD,CAhBD;;AAkBA,eAAe1B,KAAf","sourcesContent":["import Link from 'next/link';\nimport { useRouter } from 'next/router';\n\nconst Index = props => {\n    const router = useRouter();\n    let slug = router.asPath;\n    // remove \"/\"\n    slug = slug.substr(1);\n    return (\n      <div>\n        <Link href=\"/\"><a>Goto Index</a></Link>\n        <h1>{slug}</h1>\n        <p>This is a post!</p>\n      </div>\n    );\n}\n\nIndex.getInitialProps = async function() {\n\n  const jsonBody = {\n      maxID: \"-1\"\n  }\n  const res = await fetch('http://localhost:8080/api/v1/posts/' + this.props.url.query.slug, {\n      method: 'post',\n      body: JSON.stringify(jsonBody)\n  });\n  const reqRes = await res.json();\n\n  console.log(`Show data fetched. Count: ${reqRes.pagination.perPage}`);\n\n  return {\n    posts: reqRes.data.map(post => post)\n  };\n};\n\nexport default Index;"]},"metadata":{},"sourceType":"module"}