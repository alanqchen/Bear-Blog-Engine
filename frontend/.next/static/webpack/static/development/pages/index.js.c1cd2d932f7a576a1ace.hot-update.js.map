{"version":3,"file":"static/webpack/static/development/pages/index.js.c1cd2d932f7a576a1ace.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import Link from 'next/link';\nimport Layout from '../components/publicLayout';\nimport PostLink from '../components/postLink';\nimport fetch from 'isomorphic-unfetch'\n\nconst Index = props => (\n        <Layout>\n            {props.posts.map(post => (\n                <li key={post.id}>\n                <Link href=\"/[year]/[month]/[slug]\" params={{slug: post.slug}} as={`/${post.slug}`}>\n                <a>{post.title}</a>\n                </Link>\n                </li>\n            ))}\n        </Layout>\n);\n\nIndex.getInitialProps = async function() {\n    const jsonBody = {\n        maxID: \"-1\"\n    }\n    const res = await fetch('http://localhost:8080/api/v1/posts/${ctx.query.slug}', {\n        method: 'post',\n        body: JSON.stringify(jsonBody)\n    });\n    const reqRes = await res.json();\n  \n    console.log(`Show data fetched. Count: ${reqRes.pagination.perPage}`);\n  \n    return {\n      posts: reqRes.data.map(post => post)\n    };\n};\n\nexport default Index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AAFA;AACA;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AADA;AAAA;AAKA;AACA;AAFA;AACA;AALA;AAIA;AAJA;AAAA;AACA;AADA;AAQA;AAEA;AAVA;AAaA;AAAA;AAAA;AADA;AACA;AAbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAgBA;;;;A","sourceRoot":""}