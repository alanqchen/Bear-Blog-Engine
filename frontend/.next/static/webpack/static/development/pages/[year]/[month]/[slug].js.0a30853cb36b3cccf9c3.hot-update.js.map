{"version":3,"file":"static/webpack/static/development/pages/[year]/[month]/[slug].js.0a30853cb36b3cccf9c3.hot-update.js","sources":["webpack:///./pages/[year]/[month]/[slug]/index.js"],"sourcesContent":["import Link from 'next/link';\nimport { useRouter } from 'next/router';\n\nconst Index = props => {\n  <Layout>\n      {props.posts.map(post => (\n          <li key={post.id}>\n          <Link href=\"/[year]/[month]/[slug]\" params={{slug: post.slug}} as={`/${post.slug}`}>\n          <a>{post.title}</a>\n          </Link>\n          </li>\n      ))}\n  </Layout>\n  const router = useRouter();\n  let slug = router.asPath;\n  // remove \"/\"\n  slug = slug.substr(1);\n  return (\n    <div>\n      <Link href=\"/\"><a>Goto Index</a></Link>\n      <h1>{post.title}</h1>\n      <p>This is a post!</p>\n    </div>\n  );\n}\n\nIndex.getInitialProps = async ctx => {\n\n  let res = await fetch(`http://localhost:8080/api/v1/posts${ctx.asPath}`);\n  const post = await res.json();\n\n  if (post.error && res) {\n    res.statusCode = 404;\n  }\n\n  console.log(`Show data fetched. Count: ${post.data.id}`);\n\n  return post;\n};\n\nexport default Index;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;;;;A","sourceRoot":""}