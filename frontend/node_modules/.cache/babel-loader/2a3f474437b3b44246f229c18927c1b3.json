{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _redux = require(\"redux\");\n\nvar _reducers = _interopRequireDefault(require(\"./reducers\"));\n\nvar playerActions = _interopRequireWildcard(require(\"./actions/player\"));\n\nvar videoActions = _interopRequireWildcard(require(\"./actions/video\"));\n\nvar Manager =\n/*#__PURE__*/\nfunction () {\n  function Manager(store) {\n    (0, _classCallCheck2[\"default\"])(this, Manager);\n    this.store = store || (0, _redux.createStore)(_reducers[\"default\"]);\n    this.video = null;\n    this.rootElement = null;\n  }\n\n  (0, _createClass2[\"default\"])(Manager, [{\n    key: \"getActions\",\n    value: function getActions() {\n      var manager = this;\n      var dispatch = this.store.dispatch;\n      var actions = (0, _objectSpread2[\"default\"])({}, playerActions, videoActions);\n\n      function bindActionCreator(actionCreator) {\n        return function bindAction() {\n          // eslint-disable-next-line prefer-rest-params\n          var action = actionCreator.apply(manager, arguments);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      return Object.keys(actions).filter(function (key) {\n        return typeof actions[key] === 'function';\n      }).reduce(function (boundActions, key) {\n        boundActions[key] = bindActionCreator(actions[key]);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this.store.getState();\n    } // subscribe state change\n\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, getState) {\n      if (!getState) {\n        getState = this.getState.bind(this);\n      }\n\n      var prevState = getState();\n\n      var handleChange = function handleChange() {\n        var state = getState();\n\n        if (state === prevState) {\n          return;\n        }\n\n        var prevStateCopy = prevState;\n        prevState = state;\n        listener(state, prevStateCopy);\n      };\n\n      return this.store.subscribe(handleChange);\n    } // subscribe to operation state change\n\n  }, {\n    key: \"subscribeToOperationStateChange\",\n    value: function subscribeToOperationStateChange(listener) {\n      var _this = this;\n\n      return this.subscribeToStateChange(listener, function () {\n        return _this.getState().operation;\n      });\n    } // subscribe to player state change\n\n  }, {\n    key: \"subscribeToPlayerStateChange\",\n    value: function subscribeToPlayerStateChange(listener) {\n      var _this2 = this;\n\n      return this.subscribeToStateChange(listener, function () {\n        return _this2.getState().player;\n      });\n    }\n  }]);\n  return Manager;\n}();\n\nexports[\"default\"] = Manager;","map":{"version":3,"sources":["/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/node_modules/video-react/lib/Manager.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_objectSpread2","_classCallCheck2","_createClass2","_redux","_reducers","playerActions","videoActions","Manager","store","createStore","video","rootElement","key","getActions","manager","dispatch","actions","bindActionCreator","actionCreator","bindAction","action","apply","arguments","keys","filter","reduce","boundActions","getState","subscribeToStateChange","listener","bind","prevState","handleChange","state","prevStateCopy","subscribe","subscribeToOperationStateChange","_this","operation","subscribeToPlayerStateChange","_this2","player"],"mappings":"AAAA;;AAEA,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAAD,CAArC;;AAEA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAAD,CAApC;;AAEAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;AAEA,IAAIE,cAAc,GAAGL,sBAAsB,CAACD,OAAO,CAAC,qCAAD,CAAR,CAA3C;;AAEA,IAAIO,gBAAgB,GAAGN,sBAAsB,CAACD,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIQ,aAAa,GAAGP,sBAAsB,CAACD,OAAO,CAAC,oCAAD,CAAR,CAA1C;;AAEA,IAAIS,MAAM,GAAGT,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIU,SAAS,GAAGT,sBAAsB,CAACD,OAAO,CAAC,YAAD,CAAR,CAAtC;;AAEA,IAAIW,aAAa,GAAGZ,uBAAuB,CAACC,OAAO,CAAC,kBAAD,CAAR,CAA3C;;AAEA,IAAIY,YAAY,GAAGb,uBAAuB,CAACC,OAAO,CAAC,iBAAD,CAAR,CAA1C;;AAEA,IAAIa,OAAO;AACX;AACA,YAAY;AACV,WAASA,OAAT,CAAiBC,KAAjB,EAAwB;AACtB,KAAC,GAAGP,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuCM,OAAvC;AACA,SAAKC,KAAL,GAAaA,KAAK,IAAI,CAAC,GAAGL,MAAM,CAACM,WAAX,EAAwBL,SAAS,CAAC,SAAD,CAAjC,CAAtB;AACA,SAAKM,KAAL,GAAa,IAAb;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACD;;AAED,GAAC,GAAGT,aAAa,CAAC,SAAD,CAAjB,EAA8BK,OAA9B,EAAuC,CAAC;AACtCK,IAAAA,GAAG,EAAE,YADiC;AAEtCb,IAAAA,KAAK,EAAE,SAASc,UAAT,GAAsB;AAC3B,UAAIC,OAAO,GAAG,IAAd;AACA,UAAIC,QAAQ,GAAG,KAAKP,KAAL,CAAWO,QAA1B;AACA,UAAIC,OAAO,GAAG,CAAC,GAAGhB,cAAc,CAAC,SAAD,CAAlB,EAA+B,EAA/B,EAAmCK,aAAnC,EAAkDC,YAAlD,CAAd;;AAEA,eAASW,iBAAT,CAA2BC,aAA3B,EAA0C;AACxC,eAAO,SAASC,UAAT,GAAsB;AAC3B;AACA,cAAIC,MAAM,GAAGF,aAAa,CAACG,KAAd,CAAoBP,OAApB,EAA6BQ,SAA7B,CAAb;;AAEA,cAAI,OAAOF,MAAP,KAAkB,WAAtB,EAAmC;AACjCL,YAAAA,QAAQ,CAACK,MAAD,CAAR;AACD;AACF,SAPD;AAQD;;AAED,aAAOxB,MAAM,CAAC2B,IAAP,CAAYP,OAAZ,EAAqBQ,MAArB,CAA4B,UAAUZ,GAAV,EAAe;AAChD,eAAO,OAAOI,OAAO,CAACJ,GAAD,CAAd,KAAwB,UAA/B;AACD,OAFM,EAEJa,MAFI,CAEG,UAAUC,YAAV,EAAwBd,GAAxB,EAA6B;AACrCc,QAAAA,YAAY,CAACd,GAAD,CAAZ,GAAoBK,iBAAiB,CAACD,OAAO,CAACJ,GAAD,CAAR,CAArC;AACA,eAAOc,YAAP;AACD,OALM,EAKJ,EALI,CAAP;AAMD;AAxBqC,GAAD,EAyBpC;AACDd,IAAAA,GAAG,EAAE,UADJ;AAEDb,IAAAA,KAAK,EAAE,SAAS4B,QAAT,GAAoB;AACzB,aAAO,KAAKnB,KAAL,CAAWmB,QAAX,EAAP;AACD,KAJA,CAIC;;AAJD,GAzBoC,EA+BpC;AACDf,IAAAA,GAAG,EAAE,wBADJ;AAEDb,IAAAA,KAAK,EAAE,SAAS6B,sBAAT,CAAgCC,QAAhC,EAA0CF,QAA1C,EAAoD;AACzD,UAAI,CAACA,QAAL,EAAe;AACbA,QAAAA,QAAQ,GAAG,KAAKA,QAAL,CAAcG,IAAd,CAAmB,IAAnB,CAAX;AACD;;AAED,UAAIC,SAAS,GAAGJ,QAAQ,EAAxB;;AAEA,UAAIK,YAAY,GAAG,SAASA,YAAT,GAAwB;AACzC,YAAIC,KAAK,GAAGN,QAAQ,EAApB;;AAEA,YAAIM,KAAK,KAAKF,SAAd,EAAyB;AACvB;AACD;;AAED,YAAIG,aAAa,GAAGH,SAApB;AACAA,QAAAA,SAAS,GAAGE,KAAZ;AACAJ,QAAAA,QAAQ,CAACI,KAAD,EAAQC,aAAR,CAAR;AACD,OAVD;;AAYA,aAAO,KAAK1B,KAAL,CAAW2B,SAAX,CAAqBH,YAArB,CAAP;AACD,KAtBA,CAsBC;;AAtBD,GA/BoC,EAuDpC;AACDpB,IAAAA,GAAG,EAAE,iCADJ;AAEDb,IAAAA,KAAK,EAAE,SAASqC,+BAAT,CAAyCP,QAAzC,EAAmD;AACxD,UAAIQ,KAAK,GAAG,IAAZ;;AAEA,aAAO,KAAKT,sBAAL,CAA4BC,QAA5B,EAAsC,YAAY;AACvD,eAAOQ,KAAK,CAACV,QAAN,GAAiBW,SAAxB;AACD,OAFM,CAAP;AAGD,KARA,CAQC;;AARD,GAvDoC,EAiEpC;AACD1B,IAAAA,GAAG,EAAE,8BADJ;AAEDb,IAAAA,KAAK,EAAE,SAASwC,4BAAT,CAAsCV,QAAtC,EAAgD;AACrD,UAAIW,MAAM,GAAG,IAAb;;AAEA,aAAO,KAAKZ,sBAAL,CAA4BC,QAA5B,EAAsC,YAAY;AACvD,eAAOW,MAAM,CAACb,QAAP,GAAkBc,MAAzB;AACD,OAFM,CAAP;AAGD;AARA,GAjEoC,CAAvC;AA2EA,SAAOlC,OAAP;AACD,CApFD,EAFA;;AAwFAT,OAAO,CAAC,SAAD,CAAP,GAAqBS,OAArB","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _redux = require(\"redux\");\n\nvar _reducers = _interopRequireDefault(require(\"./reducers\"));\n\nvar playerActions = _interopRequireWildcard(require(\"./actions/player\"));\n\nvar videoActions = _interopRequireWildcard(require(\"./actions/video\"));\n\nvar Manager =\n/*#__PURE__*/\nfunction () {\n  function Manager(store) {\n    (0, _classCallCheck2[\"default\"])(this, Manager);\n    this.store = store || (0, _redux.createStore)(_reducers[\"default\"]);\n    this.video = null;\n    this.rootElement = null;\n  }\n\n  (0, _createClass2[\"default\"])(Manager, [{\n    key: \"getActions\",\n    value: function getActions() {\n      var manager = this;\n      var dispatch = this.store.dispatch;\n      var actions = (0, _objectSpread2[\"default\"])({}, playerActions, videoActions);\n\n      function bindActionCreator(actionCreator) {\n        return function bindAction() {\n          // eslint-disable-next-line prefer-rest-params\n          var action = actionCreator.apply(manager, arguments);\n\n          if (typeof action !== 'undefined') {\n            dispatch(action);\n          }\n        };\n      }\n\n      return Object.keys(actions).filter(function (key) {\n        return typeof actions[key] === 'function';\n      }).reduce(function (boundActions, key) {\n        boundActions[key] = bindActionCreator(actions[key]);\n        return boundActions;\n      }, {});\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this.store.getState();\n    } // subscribe state change\n\n  }, {\n    key: \"subscribeToStateChange\",\n    value: function subscribeToStateChange(listener, getState) {\n      if (!getState) {\n        getState = this.getState.bind(this);\n      }\n\n      var prevState = getState();\n\n      var handleChange = function handleChange() {\n        var state = getState();\n\n        if (state === prevState) {\n          return;\n        }\n\n        var prevStateCopy = prevState;\n        prevState = state;\n        listener(state, prevStateCopy);\n      };\n\n      return this.store.subscribe(handleChange);\n    } // subscribe to operation state change\n\n  }, {\n    key: \"subscribeToOperationStateChange\",\n    value: function subscribeToOperationStateChange(listener) {\n      var _this = this;\n\n      return this.subscribeToStateChange(listener, function () {\n        return _this.getState().operation;\n      });\n    } // subscribe to player state change\n\n  }, {\n    key: \"subscribeToPlayerStateChange\",\n    value: function subscribeToPlayerStateChange(listener) {\n      var _this2 = this;\n\n      return this.subscribeToStateChange(listener, function () {\n        return _this2.getState().player;\n      });\n    }\n  }]);\n  return Manager;\n}();\n\nexports[\"default\"] = Manager;"]},"metadata":{},"sourceType":"script"}