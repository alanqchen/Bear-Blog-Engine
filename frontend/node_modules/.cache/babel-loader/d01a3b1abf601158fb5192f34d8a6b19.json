{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar Dom = _interopRequireWildcard(require(\"../../utils/dom\"));\n\nvar _SeekBar = _interopRequireDefault(require(\"./SeekBar\"));\n\nvar propTypes = {\n  player: _propTypes[\"default\"].object,\n  className: _propTypes[\"default\"].string\n};\n\nvar ProgressControl =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(ProgressControl, _Component);\n\n  function ProgressControl(props, context) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, ProgressControl);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(ProgressControl).call(this, props, context));\n    _this.state = {\n      mouseTime: {\n        time: null,\n        position: 0\n      }\n    };\n    _this.handleMouseMoveThrottle = _this.handleMouseMove.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(ProgressControl, [{\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(event) {\n      if (!event.pageX) {\n        return;\n      }\n\n      var duration = this.props.player.duration;\n      var node = this.seekBar;\n      var newTime = Dom.getPointerPosition(node, event).x * duration;\n      var position = event.pageX - Dom.findElPosition(node).left;\n      this.setState({\n        mouseTime: {\n          time: newTime,\n          position: position\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var className = this.props.className;\n      return _react[\"default\"].createElement(\"div\", {\n        onMouseMove: this.handleMouseMoveThrottle,\n        className: (0, _classnames[\"default\"])('video-react-progress-control video-react-control', className)\n      }, _react[\"default\"].createElement(_SeekBar[\"default\"], (0, _extends2[\"default\"])({\n        mouseTime: this.state.mouseTime,\n        ref: function ref(c) {\n          _this2.seekBar = c;\n        }\n      }, this.props)));\n    }\n  }]);\n  return ProgressControl;\n}(_react.Component);\n\nexports[\"default\"] = ProgressControl;\nProgressControl.propTypes = propTypes;\nProgressControl.displayName = 'ProgressControl';","map":{"version":3,"sources":["/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/node_modules/video-react/lib/components/control-bar/ProgressControl.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_extends2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_propTypes","_react","_classnames","Dom","_SeekBar","propTypes","player","object","className","string","ProgressControl","_Component","props","context","_this","call","state","mouseTime","time","position","handleMouseMoveThrottle","handleMouseMove","bind","key","event","pageX","duration","node","seekBar","newTime","getPointerPosition","x","findElPosition","left","setState","render","_this2","createElement","onMouseMove","ref","c","Component","displayName"],"mappings":"AAAA;;AAEA,IAAIA,uBAAuB,GAAGC,OAAO,CAAC,+CAAD,CAArC;;AAEA,IAAIC,sBAAsB,GAAGD,OAAO,CAAC,8CAAD,CAApC;;AAEAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAAC,SAAD,CAAP,GAAqB,KAAK,CAA1B;;AAEA,IAAIE,SAAS,GAAGL,sBAAsB,CAACD,OAAO,CAAC,gCAAD,CAAR,CAAtC;;AAEA,IAAIO,gBAAgB,GAAGN,sBAAsB,CAACD,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIQ,aAAa,GAAGP,sBAAsB,CAACD,OAAO,CAAC,oCAAD,CAAR,CAA1C;;AAEA,IAAIS,2BAA2B,GAAGR,sBAAsB,CAACD,OAAO,CAAC,kDAAD,CAAR,CAAxD;;AAEA,IAAIU,gBAAgB,GAAGT,sBAAsB,CAACD,OAAO,CAAC,uCAAD,CAAR,CAA7C;;AAEA,IAAIW,uBAAuB,GAAGV,sBAAsB,CAACD,OAAO,CAAC,8CAAD,CAAR,CAApD;;AAEA,IAAIY,UAAU,GAAGX,sBAAsB,CAACD,OAAO,CAAC,iCAAD,CAAR,CAAvC;;AAEA,IAAIa,UAAU,GAAGZ,sBAAsB,CAACD,OAAO,CAAC,YAAD,CAAR,CAAvC;;AAEA,IAAIc,MAAM,GAAGf,uBAAuB,CAACC,OAAO,CAAC,OAAD,CAAR,CAApC;;AAEA,IAAIe,WAAW,GAAGd,sBAAsB,CAACD,OAAO,CAAC,YAAD,CAAR,CAAxC;;AAEA,IAAIgB,GAAG,GAAGjB,uBAAuB,CAACC,OAAO,CAAC,iBAAD,CAAR,CAAjC;;AAEA,IAAIiB,QAAQ,GAAGhB,sBAAsB,CAACD,OAAO,CAAC,WAAD,CAAR,CAArC;;AAEA,IAAIkB,SAAS,GAAG;AACdC,EAAAA,MAAM,EAAEN,UAAU,CAAC,SAAD,CAAV,CAAsBO,MADhB;AAEdC,EAAAA,SAAS,EAAER,UAAU,CAAC,SAAD,CAAV,CAAsBS;AAFnB,CAAhB;;AAKA,IAAIC,eAAe;AACnB;AACA,UAAUC,UAAV,EAAsB;AACpB,GAAC,GAAGZ,UAAU,CAAC,SAAD,CAAd,EAA2BW,eAA3B,EAA4CC,UAA5C;;AAEA,WAASD,eAAT,CAAyBE,KAAzB,EAAgCC,OAAhC,EAAyC;AACvC,QAAIC,KAAJ;;AAEA,KAAC,GAAGpB,gBAAgB,CAAC,SAAD,CAApB,EAAiC,IAAjC,EAAuCgB,eAAvC;AACAI,IAAAA,KAAK,GAAG,CAAC,GAAGlB,2BAA2B,CAAC,SAAD,CAA/B,EAA4C,IAA5C,EAAkD,CAAC,GAAGC,gBAAgB,CAAC,SAAD,CAApB,EAAiCa,eAAjC,EAAkDK,IAAlD,CAAuD,IAAvD,EAA6DH,KAA7D,EAAoEC,OAApE,CAAlD,CAAR;AACAC,IAAAA,KAAK,CAACE,KAAN,GAAc;AACZC,MAAAA,SAAS,EAAE;AACTC,QAAAA,IAAI,EAAE,IADG;AAETC,QAAAA,QAAQ,EAAE;AAFD;AADC,KAAd;AAMAL,IAAAA,KAAK,CAACM,uBAAN,GAAgCN,KAAK,CAACO,eAAN,CAAsBC,IAAtB,CAA2B,CAAC,GAAGxB,uBAAuB,CAAC,SAAD,CAA3B,EAAwCgB,KAAxC,CAA3B,CAAhC;AACA,WAAOA,KAAP;AACD;;AAED,GAAC,GAAGnB,aAAa,CAAC,SAAD,CAAjB,EAA8Be,eAA9B,EAA+C,CAAC;AAC9Ca,IAAAA,GAAG,EAAE,iBADyC;AAE9C/B,IAAAA,KAAK,EAAE,SAAS6B,eAAT,CAAyBG,KAAzB,EAAgC;AACrC,UAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;AAChB;AACD;;AAED,UAAIC,QAAQ,GAAG,KAAKd,KAAL,CAAWN,MAAX,CAAkBoB,QAAjC;AACA,UAAIC,IAAI,GAAG,KAAKC,OAAhB;AACA,UAAIC,OAAO,GAAG1B,GAAG,CAAC2B,kBAAJ,CAAuBH,IAAvB,EAA6BH,KAA7B,EAAoCO,CAApC,GAAwCL,QAAtD;AACA,UAAIP,QAAQ,GAAGK,KAAK,CAACC,KAAN,GAActB,GAAG,CAAC6B,cAAJ,CAAmBL,IAAnB,EAAyBM,IAAtD;AACA,WAAKC,QAAL,CAAc;AACZjB,QAAAA,SAAS,EAAE;AACTC,UAAAA,IAAI,EAAEW,OADG;AAETV,UAAAA,QAAQ,EAAEA;AAFD;AADC,OAAd;AAMD;AAjB6C,GAAD,EAkB5C;AACDI,IAAAA,GAAG,EAAE,QADJ;AAED/B,IAAAA,KAAK,EAAE,SAAS2C,MAAT,GAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAI5B,SAAS,GAAG,KAAKI,KAAL,CAAWJ,SAA3B;AACA,aAAOP,MAAM,CAAC,SAAD,CAAN,CAAkBoC,aAAlB,CAAgC,KAAhC,EAAuC;AAC5CC,QAAAA,WAAW,EAAE,KAAKlB,uBAD0B;AAE5CZ,QAAAA,SAAS,EAAE,CAAC,GAAGN,WAAW,CAAC,SAAD,CAAf,EAA4B,kDAA5B,EAAgFM,SAAhF;AAFiC,OAAvC,EAGJP,MAAM,CAAC,SAAD,CAAN,CAAkBoC,aAAlB,CAAgCjC,QAAQ,CAAC,SAAD,CAAxC,EAAqD,CAAC,GAAGX,SAAS,CAAC,SAAD,CAAb,EAA0B;AAChFwB,QAAAA,SAAS,EAAE,KAAKD,KAAL,CAAWC,SAD0D;AAEhFsB,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,CAAb,EAAgB;AACnBJ,UAAAA,MAAM,CAACR,OAAP,GAAiBY,CAAjB;AACD;AAJ+E,OAA1B,EAKrD,KAAK5B,KALgD,CAArD,CAHI,CAAP;AASD;AAfA,GAlB4C,CAA/C;AAmCA,SAAOF,eAAP;AACD,CAtDD,CAsDET,MAAM,CAACwC,SAtDT,CAFA;;AA0DAlD,OAAO,CAAC,SAAD,CAAP,GAAqBmB,eAArB;AACAA,eAAe,CAACL,SAAhB,GAA4BA,SAA5B;AACAK,eAAe,CAACgC,WAAhB,GAA8B,iBAA9B","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar Dom = _interopRequireWildcard(require(\"../../utils/dom\"));\n\nvar _SeekBar = _interopRequireDefault(require(\"./SeekBar\"));\n\nvar propTypes = {\n  player: _propTypes[\"default\"].object,\n  className: _propTypes[\"default\"].string\n};\n\nvar ProgressControl =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(ProgressControl, _Component);\n\n  function ProgressControl(props, context) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, ProgressControl);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(ProgressControl).call(this, props, context));\n    _this.state = {\n      mouseTime: {\n        time: null,\n        position: 0\n      }\n    };\n    _this.handleMouseMoveThrottle = _this.handleMouseMove.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(ProgressControl, [{\n    key: \"handleMouseMove\",\n    value: function handleMouseMove(event) {\n      if (!event.pageX) {\n        return;\n      }\n\n      var duration = this.props.player.duration;\n      var node = this.seekBar;\n      var newTime = Dom.getPointerPosition(node, event).x * duration;\n      var position = event.pageX - Dom.findElPosition(node).left;\n      this.setState({\n        mouseTime: {\n          time: newTime,\n          position: position\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var className = this.props.className;\n      return _react[\"default\"].createElement(\"div\", {\n        onMouseMove: this.handleMouseMoveThrottle,\n        className: (0, _classnames[\"default\"])('video-react-progress-control video-react-control', className)\n      }, _react[\"default\"].createElement(_SeekBar[\"default\"], (0, _extends2[\"default\"])({\n        mouseTime: this.state.mouseTime,\n        ref: function ref(c) {\n          _this2.seekBar = c;\n        }\n      }, this.props)));\n    }\n  }]);\n  return ProgressControl;\n}(_react.Component);\n\nexports[\"default\"] = ProgressControl;\nProgressControl.propTypes = propTypes;\nProgressControl.displayName = 'ProgressControl';"]},"metadata":{},"sourceType":"script"}