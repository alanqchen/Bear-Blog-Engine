{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = require(\"react\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _dom = require(\"../utils/dom\");\n\nvar propTypes = {\n  clickable: _propTypes[\"default\"].bool,\n  dblclickable: _propTypes[\"default\"].bool,\n  manager: _propTypes[\"default\"].object,\n  actions: _propTypes[\"default\"].object,\n  player: _propTypes[\"default\"].object,\n  shortcuts: _propTypes[\"default\"].array\n};\nvar defaultProps = {\n  clickable: true,\n  dblclickable: true\n};\n\nvar Shortcut =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(Shortcut, _Component);\n\n  function Shortcut(props, context) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Shortcut);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Shortcut).call(this, props, context));\n    _this.defaultShortcuts = [{\n      keyCode: 32,\n      // spacebar\n      handle: _this.togglePlay\n    }, {\n      keyCode: 75,\n      // k\n      handle: _this.togglePlay\n    }, {\n      keyCode: 70,\n      // f\n      handle: _this.toggleFullscreen\n    }, {\n      keyCode: 37,\n      // Left arrow\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.replay(5, {\n          action: 'replay-5',\n          source: 'shortcut'\n        }); // Go back 5 seconds\n      }\n    }, {\n      keyCode: 74,\n      // j\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.replay(10, {\n          action: 'replay-10',\n          source: 'shortcut'\n        }); // Go back 10 seconds\n      }\n    }, {\n      keyCode: 39,\n      // Right arrow\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.forward(5, {\n          action: 'forward-5',\n          source: 'shortcut'\n        }); // Go forward 5 seconds\n      }\n    }, {\n      keyCode: 76,\n      // l\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.forward(10, {\n          action: 'forward-10',\n          source: 'shortcut'\n        }); // Go forward 10 seconds\n      }\n    }, {\n      keyCode: 36,\n      // Home\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.seek(0); // Go to beginning of video\n      }\n    }, {\n      keyCode: 35,\n      // End\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        } // Go to end of video\n\n\n        actions.seek(player.duration);\n      }\n    }, {\n      keyCode: 38,\n      // Up arrow\n      handle: function handle(player, actions) {\n        // Increase volume 5%\n        var v = player.volume + 0.05;\n\n        if (v > 1) {\n          v = 1;\n        }\n\n        actions.changeVolume(v, {\n          action: 'volume-up',\n          source: 'shortcut'\n        });\n      }\n    }, {\n      keyCode: 40,\n      // Down arrow\n      handle: function handle(player, actions) {\n        // Decrease volume 5%\n        var v = player.volume - 0.05;\n\n        if (v < 0) {\n          v = 0;\n        }\n\n        var action = v > 0 ? 'volume-down' : 'volume-off';\n        actions.changeVolume(v, {\n          action: action,\n          source: 'shortcut'\n        });\n      }\n    }, {\n      keyCode: 190,\n      // Shift + >\n      shift: true,\n      handle: function handle(player, actions) {\n        // Increase speed\n        var playbackRate = player.playbackRate;\n\n        if (playbackRate >= 1.5) {\n          playbackRate = 2;\n        } else if (playbackRate >= 1.25) {\n          playbackRate = 1.5;\n        } else if (playbackRate >= 1.0) {\n          playbackRate = 1.25;\n        } else if (playbackRate >= 0.5) {\n          playbackRate = 1.0;\n        } else if (playbackRate >= 0.25) {\n          playbackRate = 0.5;\n        } else if (playbackRate >= 0) {\n          playbackRate = 0.25;\n        }\n\n        actions.changeRate(playbackRate, {\n          action: 'fast-forward',\n          source: 'shortcut'\n        });\n      }\n    }, {\n      keyCode: 188,\n      // Shift + <\n      shift: true,\n      handle: function handle(player, actions) {\n        // Decrease speed\n        var playbackRate = player.playbackRate;\n\n        if (playbackRate <= 0.5) {\n          playbackRate = 0.25;\n        } else if (playbackRate <= 1.0) {\n          playbackRate = 0.5;\n        } else if (playbackRate <= 1.25) {\n          playbackRate = 1.0;\n        } else if (playbackRate <= 1.5) {\n          playbackRate = 1.25;\n        } else if (playbackRate <= 2) {\n          playbackRate = 1.5;\n        }\n\n        actions.changeRate(playbackRate, {\n          action: 'fast-rewind',\n          source: 'shortcut'\n        });\n      }\n    }];\n    _this.shortcuts = (0, _toConsumableArray2[\"default\"])(_this.defaultShortcuts);\n    _this.mergeShortcuts = _this.mergeShortcuts.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleKeyPress = _this.handleKeyPress.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleClick = _this.handleClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleDoubleClick = _this.handleDoubleClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Shortcut, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mergeShortcuts();\n      document.addEventListener('keydown', this.handleKeyPress);\n      document.addEventListener('click', this.handleClick);\n      document.addEventListener('dblclick', this.handleDoubleClick);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.shortcuts !== this.props.shortcuts) {\n        this.mergeShortcuts();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('keydown', this.handleKeyPress);\n      document.removeEventListener('click', this.handleClick);\n      document.removeEventListener('dblclick', this.handleDoubleClick);\n    } // merge the shortcuts from props\n\n  }, {\n    key: \"mergeShortcuts\",\n    value: function mergeShortcuts() {\n      var getShortcutKey = function getShortcutKey(_ref) {\n        var _ref$keyCode = _ref.keyCode,\n            keyCode = _ref$keyCode === void 0 ? 0 : _ref$keyCode,\n            _ref$ctrl = _ref.ctrl,\n            ctrl = _ref$ctrl === void 0 ? false : _ref$ctrl,\n            _ref$shift = _ref.shift,\n            shift = _ref$shift === void 0 ? false : _ref$shift,\n            _ref$alt = _ref.alt,\n            alt = _ref$alt === void 0 ? false : _ref$alt;\n        return \"\".concat(keyCode, \":\").concat(ctrl, \":\").concat(shift, \":\").concat(alt);\n      };\n\n      var defaultShortcuts = this.defaultShortcuts.reduce(function (shortcuts, shortcut) {\n        return Object.assign(shortcuts, (0, _defineProperty2[\"default\"])({}, getShortcutKey(shortcut), shortcut));\n      }, {});\n      var mergedShortcuts = (this.props.shortcuts || []).reduce(function (shortcuts, shortcut) {\n        var keyCode = shortcut.keyCode,\n            handle = shortcut.handle;\n\n        if (keyCode && typeof handle === 'function') {\n          return Object.assign(shortcuts, (0, _defineProperty2[\"default\"])({}, getShortcutKey(shortcut), shortcut));\n        }\n\n        return shortcuts;\n      }, defaultShortcuts);\n\n      var gradeShortcut = function gradeShortcut(s) {\n        var score = 0;\n        var ps = ['ctrl', 'shift', 'alt'];\n        ps.forEach(function (key) {\n          if (s[key]) {\n            score++;\n          }\n        });\n        return score;\n      };\n\n      this.shortcuts = Object.keys(mergedShortcuts).map(function (key) {\n        return mergedShortcuts[key];\n      }).sort(function (a, b) {\n        return gradeShortcut(b) - gradeShortcut(a);\n      });\n    }\n  }, {\n    key: \"togglePlay\",\n    value: function togglePlay(player, actions) {\n      if (player.paused) {\n        actions.play({\n          action: 'play',\n          source: 'shortcut'\n        });\n      } else {\n        actions.pause({\n          action: 'pause',\n          source: 'shortcut'\n        });\n      }\n    }\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen(player, actions) {\n      actions.toggleFullscreen(player);\n    }\n  }, {\n    key: \"handleKeyPress\",\n    value: function handleKeyPress(e) {\n      var _this$props = this.props,\n          player = _this$props.player,\n          actions = _this$props.actions;\n\n      if (!player.isActive) {\n        return;\n      }\n\n      if (document.activeElement && ((0, _dom.hasClass)(document.activeElement, 'video-react-control') || (0, _dom.hasClass)(document.activeElement, 'video-react-menu-button-active') // || hasClass(document.activeElement, 'video-react-slider')\n      || (0, _dom.hasClass)(document.activeElement, 'video-react-big-play-button'))) {\n        return;\n      }\n\n      var keyCode = e.keyCode || e.which;\n      var ctrl = e.ctrlKey || e.metaKey;\n      var shift = e.shiftKey;\n      var alt = e.altKey;\n      var shortcut = this.shortcuts.filter(function (s) {\n        if (!s.keyCode || s.keyCode - keyCode !== 0) {\n          return false;\n        }\n\n        if (s.ctrl !== undefined && s.ctrl !== ctrl || s.shift !== undefined && s.shift !== shift || s.alt !== undefined && s.alt !== alt) {\n          return false;\n        }\n\n        return true;\n      })[0];\n\n      if (shortcut) {\n        shortcut.handle(player, actions);\n        e.preventDefault();\n      }\n    } // only if player is active and player is ready\n\n  }, {\n    key: \"canBeClicked\",\n    value: function canBeClicked(player, e) {\n      if (!player.isActive || e.target.nodeName !== 'VIDEO' || player.readyState !== 4) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var _this$props2 = this.props,\n          player = _this$props2.player,\n          actions = _this$props2.actions,\n          clickable = _this$props2.clickable;\n\n      if (!this.canBeClicked(player, e) || !clickable) {\n        return;\n      }\n\n      this.togglePlay(player, actions); // e.preventDefault();\n    }\n  }, {\n    key: \"handleDoubleClick\",\n    value: function handleDoubleClick(e) {\n      var _this$props3 = this.props,\n          player = _this$props3.player,\n          actions = _this$props3.actions,\n          dblclickable = _this$props3.dblclickable;\n\n      if (!this.canBeClicked(player, e) || !dblclickable) {\n        return;\n      }\n\n      this.toggleFullscreen(player, actions); // e.preventDefault();\n    } // this component dose not render anything\n    // it's just for the key down event\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return Shortcut;\n}(_react.Component);\n\nexports[\"default\"] = Shortcut;\nShortcut.propTypes = propTypes;\nShortcut.defaultProps = defaultProps;\nShortcut.displayName = 'Shortcut';","map":{"version":3,"sources":["/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/node_modules/video-react/lib/components/Shortcut.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_defineProperty2","_toConsumableArray2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_react","_propTypes","_dom","propTypes","clickable","bool","dblclickable","manager","object","actions","player","shortcuts","array","defaultProps","Shortcut","_Component","props","context","_this","call","defaultShortcuts","keyCode","handle","togglePlay","toggleFullscreen","hasStarted","replay","action","source","forward","seek","duration","v","volume","changeVolume","shift","playbackRate","changeRate","mergeShortcuts","bind","handleKeyPress","handleClick","handleDoubleClick","key","componentDidMount","document","addEventListener","componentDidUpdate","prevProps","componentWillUnmount","removeEventListener","getShortcutKey","_ref","_ref$keyCode","_ref$ctrl","ctrl","_ref$shift","_ref$alt","alt","concat","reduce","shortcut","assign","mergedShortcuts","gradeShortcut","s","score","ps","forEach","keys","map","sort","a","b","paused","play","pause","e","_this$props","isActive","activeElement","hasClass","which","ctrlKey","metaKey","shiftKey","altKey","filter","undefined","preventDefault","canBeClicked","target","nodeName","readyState","_this$props2","_this$props3","render","Component","displayName"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = require(\"react\");\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _dom = require(\"../utils/dom\");\n\nvar propTypes = {\n  clickable: _propTypes[\"default\"].bool,\n  dblclickable: _propTypes[\"default\"].bool,\n  manager: _propTypes[\"default\"].object,\n  actions: _propTypes[\"default\"].object,\n  player: _propTypes[\"default\"].object,\n  shortcuts: _propTypes[\"default\"].array\n};\nvar defaultProps = {\n  clickable: true,\n  dblclickable: true\n};\n\nvar Shortcut =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(Shortcut, _Component);\n\n  function Shortcut(props, context) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Shortcut);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Shortcut).call(this, props, context));\n    _this.defaultShortcuts = [{\n      keyCode: 32,\n      // spacebar\n      handle: _this.togglePlay\n    }, {\n      keyCode: 75,\n      // k\n      handle: _this.togglePlay\n    }, {\n      keyCode: 70,\n      // f\n      handle: _this.toggleFullscreen\n    }, {\n      keyCode: 37,\n      // Left arrow\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.replay(5, {\n          action: 'replay-5',\n          source: 'shortcut'\n        }); // Go back 5 seconds\n      }\n    }, {\n      keyCode: 74,\n      // j\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.replay(10, {\n          action: 'replay-10',\n          source: 'shortcut'\n        }); // Go back 10 seconds\n      }\n    }, {\n      keyCode: 39,\n      // Right arrow\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.forward(5, {\n          action: 'forward-5',\n          source: 'shortcut'\n        }); // Go forward 5 seconds\n      }\n    }, {\n      keyCode: 76,\n      // l\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.forward(10, {\n          action: 'forward-10',\n          source: 'shortcut'\n        }); // Go forward 10 seconds\n      }\n    }, {\n      keyCode: 36,\n      // Home\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        }\n\n        actions.seek(0); // Go to beginning of video\n      }\n    }, {\n      keyCode: 35,\n      // End\n      handle: function handle(player, actions) {\n        if (!player.hasStarted) {\n          return;\n        } // Go to end of video\n\n\n        actions.seek(player.duration);\n      }\n    }, {\n      keyCode: 38,\n      // Up arrow\n      handle: function handle(player, actions) {\n        // Increase volume 5%\n        var v = player.volume + 0.05;\n\n        if (v > 1) {\n          v = 1;\n        }\n\n        actions.changeVolume(v, {\n          action: 'volume-up',\n          source: 'shortcut'\n        });\n      }\n    }, {\n      keyCode: 40,\n      // Down arrow\n      handle: function handle(player, actions) {\n        // Decrease volume 5%\n        var v = player.volume - 0.05;\n\n        if (v < 0) {\n          v = 0;\n        }\n\n        var action = v > 0 ? 'volume-down' : 'volume-off';\n        actions.changeVolume(v, {\n          action: action,\n          source: 'shortcut'\n        });\n      }\n    }, {\n      keyCode: 190,\n      // Shift + >\n      shift: true,\n      handle: function handle(player, actions) {\n        // Increase speed\n        var playbackRate = player.playbackRate;\n\n        if (playbackRate >= 1.5) {\n          playbackRate = 2;\n        } else if (playbackRate >= 1.25) {\n          playbackRate = 1.5;\n        } else if (playbackRate >= 1.0) {\n          playbackRate = 1.25;\n        } else if (playbackRate >= 0.5) {\n          playbackRate = 1.0;\n        } else if (playbackRate >= 0.25) {\n          playbackRate = 0.5;\n        } else if (playbackRate >= 0) {\n          playbackRate = 0.25;\n        }\n\n        actions.changeRate(playbackRate, {\n          action: 'fast-forward',\n          source: 'shortcut'\n        });\n      }\n    }, {\n      keyCode: 188,\n      // Shift + <\n      shift: true,\n      handle: function handle(player, actions) {\n        // Decrease speed\n        var playbackRate = player.playbackRate;\n\n        if (playbackRate <= 0.5) {\n          playbackRate = 0.25;\n        } else if (playbackRate <= 1.0) {\n          playbackRate = 0.5;\n        } else if (playbackRate <= 1.25) {\n          playbackRate = 1.0;\n        } else if (playbackRate <= 1.5) {\n          playbackRate = 1.25;\n        } else if (playbackRate <= 2) {\n          playbackRate = 1.5;\n        }\n\n        actions.changeRate(playbackRate, {\n          action: 'fast-rewind',\n          source: 'shortcut'\n        });\n      }\n    }];\n    _this.shortcuts = (0, _toConsumableArray2[\"default\"])(_this.defaultShortcuts);\n    _this.mergeShortcuts = _this.mergeShortcuts.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleKeyPress = _this.handleKeyPress.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleClick = _this.handleClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleDoubleClick = _this.handleDoubleClick.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Shortcut, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.mergeShortcuts();\n      document.addEventListener('keydown', this.handleKeyPress);\n      document.addEventListener('click', this.handleClick);\n      document.addEventListener('dblclick', this.handleDoubleClick);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.shortcuts !== this.props.shortcuts) {\n        this.mergeShortcuts();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('keydown', this.handleKeyPress);\n      document.removeEventListener('click', this.handleClick);\n      document.removeEventListener('dblclick', this.handleDoubleClick);\n    } // merge the shortcuts from props\n\n  }, {\n    key: \"mergeShortcuts\",\n    value: function mergeShortcuts() {\n      var getShortcutKey = function getShortcutKey(_ref) {\n        var _ref$keyCode = _ref.keyCode,\n            keyCode = _ref$keyCode === void 0 ? 0 : _ref$keyCode,\n            _ref$ctrl = _ref.ctrl,\n            ctrl = _ref$ctrl === void 0 ? false : _ref$ctrl,\n            _ref$shift = _ref.shift,\n            shift = _ref$shift === void 0 ? false : _ref$shift,\n            _ref$alt = _ref.alt,\n            alt = _ref$alt === void 0 ? false : _ref$alt;\n        return \"\".concat(keyCode, \":\").concat(ctrl, \":\").concat(shift, \":\").concat(alt);\n      };\n\n      var defaultShortcuts = this.defaultShortcuts.reduce(function (shortcuts, shortcut) {\n        return Object.assign(shortcuts, (0, _defineProperty2[\"default\"])({}, getShortcutKey(shortcut), shortcut));\n      }, {});\n      var mergedShortcuts = (this.props.shortcuts || []).reduce(function (shortcuts, shortcut) {\n        var keyCode = shortcut.keyCode,\n            handle = shortcut.handle;\n\n        if (keyCode && typeof handle === 'function') {\n          return Object.assign(shortcuts, (0, _defineProperty2[\"default\"])({}, getShortcutKey(shortcut), shortcut));\n        }\n\n        return shortcuts;\n      }, defaultShortcuts);\n\n      var gradeShortcut = function gradeShortcut(s) {\n        var score = 0;\n        var ps = ['ctrl', 'shift', 'alt'];\n        ps.forEach(function (key) {\n          if (s[key]) {\n            score++;\n          }\n        });\n        return score;\n      };\n\n      this.shortcuts = Object.keys(mergedShortcuts).map(function (key) {\n        return mergedShortcuts[key];\n      }).sort(function (a, b) {\n        return gradeShortcut(b) - gradeShortcut(a);\n      });\n    }\n  }, {\n    key: \"togglePlay\",\n    value: function togglePlay(player, actions) {\n      if (player.paused) {\n        actions.play({\n          action: 'play',\n          source: 'shortcut'\n        });\n      } else {\n        actions.pause({\n          action: 'pause',\n          source: 'shortcut'\n        });\n      }\n    }\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen(player, actions) {\n      actions.toggleFullscreen(player);\n    }\n  }, {\n    key: \"handleKeyPress\",\n    value: function handleKeyPress(e) {\n      var _this$props = this.props,\n          player = _this$props.player,\n          actions = _this$props.actions;\n\n      if (!player.isActive) {\n        return;\n      }\n\n      if (document.activeElement && ((0, _dom.hasClass)(document.activeElement, 'video-react-control') || (0, _dom.hasClass)(document.activeElement, 'video-react-menu-button-active') // || hasClass(document.activeElement, 'video-react-slider')\n      || (0, _dom.hasClass)(document.activeElement, 'video-react-big-play-button'))) {\n        return;\n      }\n\n      var keyCode = e.keyCode || e.which;\n      var ctrl = e.ctrlKey || e.metaKey;\n      var shift = e.shiftKey;\n      var alt = e.altKey;\n      var shortcut = this.shortcuts.filter(function (s) {\n        if (!s.keyCode || s.keyCode - keyCode !== 0) {\n          return false;\n        }\n\n        if (s.ctrl !== undefined && s.ctrl !== ctrl || s.shift !== undefined && s.shift !== shift || s.alt !== undefined && s.alt !== alt) {\n          return false;\n        }\n\n        return true;\n      })[0];\n\n      if (shortcut) {\n        shortcut.handle(player, actions);\n        e.preventDefault();\n      }\n    } // only if player is active and player is ready\n\n  }, {\n    key: \"canBeClicked\",\n    value: function canBeClicked(player, e) {\n      if (!player.isActive || e.target.nodeName !== 'VIDEO' || player.readyState !== 4) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(e) {\n      var _this$props2 = this.props,\n          player = _this$props2.player,\n          actions = _this$props2.actions,\n          clickable = _this$props2.clickable;\n\n      if (!this.canBeClicked(player, e) || !clickable) {\n        return;\n      }\n\n      this.togglePlay(player, actions); // e.preventDefault();\n    }\n  }, {\n    key: \"handleDoubleClick\",\n    value: function handleDoubleClick(e) {\n      var _this$props3 = this.props,\n          player = _this$props3.player,\n          actions = _this$props3.actions,\n          dblclickable = _this$props3.dblclickable;\n\n      if (!this.canBeClicked(player, e) || !dblclickable) {\n        return;\n      }\n\n      this.toggleFullscreen(player, actions); // e.preventDefault();\n    } // this component dose not render anything\n    // it's just for the key down event\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return null;\n    }\n  }]);\n  return Shortcut;\n}(_react.Component);\n\nexports[\"default\"] = Shortcut;\nShortcut.propTypes = propTypes;\nShortcut.defaultProps = defaultProps;\nShortcut.displayName = 'Shortcut';"]},"metadata":{},"sourceType":"script"}