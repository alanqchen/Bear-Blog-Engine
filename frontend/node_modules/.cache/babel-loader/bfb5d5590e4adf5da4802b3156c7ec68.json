{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _utils = require(\"../utils\");\n\nvar propTypes = {\n  actions: _propTypes[\"default\"].object,\n  player: _propTypes[\"default\"].object,\n  children: _propTypes[\"default\"].any,\n  startTime: _propTypes[\"default\"].number,\n  loop: _propTypes[\"default\"].bool,\n  muted: _propTypes[\"default\"].bool,\n  autoPlay: _propTypes[\"default\"].bool,\n  playsInline: _propTypes[\"default\"].bool,\n  src: _propTypes[\"default\"].string,\n  poster: _propTypes[\"default\"].string,\n  className: _propTypes[\"default\"].string,\n  preload: _propTypes[\"default\"].oneOf(['auto', 'metadata', 'none']),\n  crossOrigin: _propTypes[\"default\"].string,\n  onLoadStart: _propTypes[\"default\"].func,\n  onWaiting: _propTypes[\"default\"].func,\n  onCanPlay: _propTypes[\"default\"].func,\n  onCanPlayThrough: _propTypes[\"default\"].func,\n  onPlaying: _propTypes[\"default\"].func,\n  onEnded: _propTypes[\"default\"].func,\n  onSeeking: _propTypes[\"default\"].func,\n  onSeeked: _propTypes[\"default\"].func,\n  onPlay: _propTypes[\"default\"].func,\n  onPause: _propTypes[\"default\"].func,\n  onProgress: _propTypes[\"default\"].func,\n  onDurationChange: _propTypes[\"default\"].func,\n  onError: _propTypes[\"default\"].func,\n  onSuspend: _propTypes[\"default\"].func,\n  onAbort: _propTypes[\"default\"].func,\n  onEmptied: _propTypes[\"default\"].func,\n  onStalled: _propTypes[\"default\"].func,\n  onLoadedMetadata: _propTypes[\"default\"].func,\n  onLoadedData: _propTypes[\"default\"].func,\n  onTimeUpdate: _propTypes[\"default\"].func,\n  onRateChange: _propTypes[\"default\"].func,\n  onVolumeChange: _propTypes[\"default\"].func,\n  onResize: _propTypes[\"default\"].func\n};\n\nvar Video =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(Video, _Component);\n\n  function Video(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Video);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Video).call(this, props));\n    _this.video = null; // the html5 video\n\n    _this.play = _this.play.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.pause = _this.pause.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.seek = _this.seek.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.forward = _this.forward.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.replay = _this.replay.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.toggleFullscreen = _this.toggleFullscreen.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getProperties = _this.getProperties.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.renderChildren = _this.renderChildren.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleLoadStart = _this.handleLoadStart.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleCanPlay = _this.handleCanPlay.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleCanPlayThrough = _this.handleCanPlayThrough.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handlePlay = _this.handlePlay.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handlePlaying = _this.handlePlaying.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handlePause = _this.handlePause.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEnded = _this.handleEnded.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleWaiting = _this.handleWaiting.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSeeking = _this.handleSeeking.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSeeked = _this.handleSeeked.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleFullscreenChange = _this.handleFullscreenChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleError = _this.handleError.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSuspend = _this.handleSuspend.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleAbort = _this.handleAbort.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEmptied = _this.handleEmptied.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleStalled = _this.handleStalled.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleLoadedMetaData = _this.handleLoadedMetaData.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleLoadedData = _this.handleLoadedData.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleTimeUpdate = _this.handleTimeUpdate.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleRateChange = _this.handleRateChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleVolumeChange = _this.handleVolumeChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleDurationChange = _this.handleDurationChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleProgress = (0, _utils.throttle)(_this.handleProgress.bind((0, _assertThisInitialized2[\"default\"])(_this)), 250);\n    _this.handleKeypress = _this.handleKeypress.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleTextTrackChange = _this.handleTextTrackChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Video, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.forceUpdate(); // make sure the children can get the video property\n\n      if (this.video && this.video.textTracks) {\n        this.video.textTracks.onaddtrack = this.handleTextTrackChange;\n        this.video.textTracks.onremovetrack = this.handleTextTrackChange;\n      }\n    } // get all video properties\n\n  }, {\n    key: \"getProperties\",\n    value: function getProperties() {\n      var _this2 = this;\n\n      if (!this.video) {\n        return null;\n      }\n\n      return _utils.mediaProperties.reduce(function (properties, key) {\n        properties[key] = _this2.video[key];\n        return properties;\n      }, {});\n    } // get playback rate\n\n  }, {\n    key: \"handleTextTrackChange\",\n    value: function handleTextTrackChange() {\n      var _this$props = this.props,\n          actions = _this$props.actions,\n          player = _this$props.player;\n\n      if (this.video && this.video.textTracks) {\n        var activeTextTrack = Array.from(this.video.textTracks).find(function (textTrack) {\n          return textTrack.mode === 'showing';\n        });\n\n        if (activeTextTrack !== player.activeTextTrack) {\n          actions.activateTextTrack(activeTextTrack);\n        }\n      }\n    } // play the video\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      var promise = this.video.play();\n\n      if (promise !== undefined) {\n        promise[\"catch\"](function () {}).then(function () {});\n      }\n    } // pause the video\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var promise = this.video.pause();\n\n      if (promise !== undefined) {\n        promise[\"catch\"](function () {}).then(function () {});\n      }\n    } // Change the video source and re-load the video:\n\n  }, {\n    key: \"load\",\n    value: function load() {\n      this.video.load();\n    } // Add a new text track to the video\n\n  }, {\n    key: \"addTextTrack\",\n    value: function addTextTrack() {\n      var _this$video;\n\n      (_this$video = this.video).addTextTrack.apply(_this$video, arguments);\n    } // Check if your browser can play different types of video:\n\n  }, {\n    key: \"canPlayType\",\n    value: function canPlayType() {\n      var _this$video2;\n\n      (_this$video2 = this.video).canPlayType.apply(_this$video2, arguments);\n    } // toggle play\n\n  }, {\n    key: \"togglePlay\",\n    value: function togglePlay() {\n      if (this.video.paused) {\n        this.play();\n      } else {\n        this.pause();\n      }\n    } // seek video by time\n\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      try {\n        this.video.currentTime = time;\n      } catch (e) {// console.log(e, 'Video is not ready.')\n      }\n    } // jump forward x seconds\n\n  }, {\n    key: \"forward\",\n    value: function forward(seconds) {\n      this.seek(this.video.currentTime + seconds);\n    } // jump back x seconds\n\n  }, {\n    key: \"replay\",\n    value: function replay(seconds) {\n      this.forward(-seconds);\n    } // enter or exist full screen\n\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen() {\n      var _this$props2 = this.props,\n          player = _this$props2.player,\n          actions = _this$props2.actions;\n      actions.toggleFullscreen(player);\n    } // Fired when the user agent\n    // begins looking for media data\n\n  }, {\n    key: \"handleLoadStart\",\n    value: function handleLoadStart() {\n      var _this$props3 = this.props,\n          actions = _this$props3.actions,\n          onLoadStart = _this$props3.onLoadStart;\n      actions.handleLoadStart(this.getProperties());\n\n      if (onLoadStart) {\n        onLoadStart.apply(void 0, arguments);\n      }\n    } // A handler for events that\n    // signal that waiting has ended\n\n  }, {\n    key: \"handleCanPlay\",\n    value: function handleCanPlay() {\n      var _this$props4 = this.props,\n          actions = _this$props4.actions,\n          onCanPlay = _this$props4.onCanPlay;\n      actions.handleCanPlay(this.getProperties());\n\n      if (onCanPlay) {\n        onCanPlay.apply(void 0, arguments);\n      }\n    } // A handler for events that\n    // signal that waiting has ended\n\n  }, {\n    key: \"handleCanPlayThrough\",\n    value: function handleCanPlayThrough() {\n      var _this$props5 = this.props,\n          actions = _this$props5.actions,\n          onCanPlayThrough = _this$props5.onCanPlayThrough;\n      actions.handleCanPlayThrough(this.getProperties());\n\n      if (onCanPlayThrough) {\n        onCanPlayThrough.apply(void 0, arguments);\n      }\n    } // A handler for events that\n    // signal that waiting has ended\n\n  }, {\n    key: \"handlePlaying\",\n    value: function handlePlaying() {\n      var _this$props6 = this.props,\n          actions = _this$props6.actions,\n          onPlaying = _this$props6.onPlaying;\n      actions.handlePlaying(this.getProperties());\n\n      if (onPlaying) {\n        onPlaying.apply(void 0, arguments);\n      }\n    } // Fired whenever the media has been started\n\n  }, {\n    key: \"handlePlay\",\n    value: function handlePlay() {\n      var _this$props7 = this.props,\n          actions = _this$props7.actions,\n          onPlay = _this$props7.onPlay;\n      actions.handlePlay(this.getProperties());\n\n      if (onPlay) {\n        onPlay.apply(void 0, arguments);\n      }\n    } // Fired whenever the media has been paused\n\n  }, {\n    key: \"handlePause\",\n    value: function handlePause() {\n      var _this$props8 = this.props,\n          actions = _this$props8.actions,\n          onPause = _this$props8.onPause;\n      actions.handlePause(this.getProperties());\n\n      if (onPause) {\n        onPause.apply(void 0, arguments);\n      }\n    } // Fired when the duration of\n    // the media resource is first known or changed\n\n  }, {\n    key: \"handleDurationChange\",\n    value: function handleDurationChange() {\n      var _this$props9 = this.props,\n          actions = _this$props9.actions,\n          onDurationChange = _this$props9.onDurationChange;\n      actions.handleDurationChange(this.getProperties());\n\n      if (onDurationChange) {\n        onDurationChange.apply(void 0, arguments);\n      }\n    } // Fired while the user agent\n    // is downloading media data\n\n  }, {\n    key: \"handleProgress\",\n    value: function handleProgress() {\n      var _this$props10 = this.props,\n          actions = _this$props10.actions,\n          onProgress = _this$props10.onProgress;\n\n      if (this.video) {\n        actions.handleProgressChange(this.getProperties());\n      }\n\n      if (onProgress) {\n        onProgress.apply(void 0, arguments);\n      }\n    } // Fired when the end of the media resource\n    // is reached (currentTime == duration)\n\n  }, {\n    key: \"handleEnded\",\n    value: function handleEnded() {\n      var _this$props11 = this.props,\n          loop = _this$props11.loop,\n          player = _this$props11.player,\n          actions = _this$props11.actions,\n          onEnded = _this$props11.onEnded;\n\n      if (loop) {\n        this.seek(0);\n        this.play();\n      } else if (!player.paused) {\n        this.pause();\n      }\n\n      actions.handleEnd(this.getProperties());\n\n      if (onEnded) {\n        onEnded.apply(void 0, arguments);\n      }\n    } // Fired whenever the media begins waiting\n\n  }, {\n    key: \"handleWaiting\",\n    value: function handleWaiting() {\n      var _this$props12 = this.props,\n          actions = _this$props12.actions,\n          onWaiting = _this$props12.onWaiting;\n      actions.handleWaiting(this.getProperties());\n\n      if (onWaiting) {\n        onWaiting.apply(void 0, arguments);\n      }\n    } // Fired whenever the player\n    // is jumping to a new time\n\n  }, {\n    key: \"handleSeeking\",\n    value: function handleSeeking() {\n      var _this$props13 = this.props,\n          actions = _this$props13.actions,\n          onSeeking = _this$props13.onSeeking;\n      actions.handleSeeking(this.getProperties());\n\n      if (onSeeking) {\n        onSeeking.apply(void 0, arguments);\n      }\n    } // Fired when the player has\n    // finished jumping to a new time\n\n  }, {\n    key: \"handleSeeked\",\n    value: function handleSeeked() {\n      var _this$props14 = this.props,\n          actions = _this$props14.actions,\n          onSeeked = _this$props14.onSeeked;\n      actions.handleSeeked(this.getProperties());\n\n      if (onSeeked) {\n        onSeeked.apply(void 0, arguments);\n      }\n    } // Handle Fullscreen Change\n\n  }, {\n    key: \"handleFullscreenChange\",\n    value: function handleFullscreenChange() {} // Fires when the browser is\n    // intentionally not getting media data\n\n  }, {\n    key: \"handleSuspend\",\n    value: function handleSuspend() {\n      var _this$props15 = this.props,\n          actions = _this$props15.actions,\n          onSuspend = _this$props15.onSuspend;\n      actions.handleSuspend(this.getProperties());\n\n      if (onSuspend) {\n        onSuspend.apply(void 0, arguments);\n      }\n    } // Fires when the loading of an audio/video is aborted\n\n  }, {\n    key: \"handleAbort\",\n    value: function handleAbort() {\n      var _this$props16 = this.props,\n          actions = _this$props16.actions,\n          onAbort = _this$props16.onAbort;\n      actions.handleAbort(this.getProperties());\n\n      if (onAbort) {\n        onAbort.apply(void 0, arguments);\n      }\n    } // Fires when the current playlist is empty\n\n  }, {\n    key: \"handleEmptied\",\n    value: function handleEmptied() {\n      var _this$props17 = this.props,\n          actions = _this$props17.actions,\n          onEmptied = _this$props17.onEmptied;\n      actions.handleEmptied(this.getProperties());\n\n      if (onEmptied) {\n        onEmptied.apply(void 0, arguments);\n      }\n    } // Fires when the browser is trying to\n    // get media data, but data is not available\n\n  }, {\n    key: \"handleStalled\",\n    value: function handleStalled() {\n      var _this$props18 = this.props,\n          actions = _this$props18.actions,\n          onStalled = _this$props18.onStalled;\n      actions.handleStalled(this.getProperties());\n\n      if (onStalled) {\n        onStalled.apply(void 0, arguments);\n      }\n    } // Fires when the browser has loaded\n    // meta data for the audio/video\n\n  }, {\n    key: \"handleLoadedMetaData\",\n    value: function handleLoadedMetaData() {\n      var _this$props19 = this.props,\n          actions = _this$props19.actions,\n          onLoadedMetadata = _this$props19.onLoadedMetadata,\n          startTime = _this$props19.startTime;\n\n      if (startTime && startTime > 0) {\n        this.video.currentTime = startTime;\n      }\n\n      actions.handleLoadedMetaData(this.getProperties());\n\n      if (onLoadedMetadata) {\n        onLoadedMetadata.apply(void 0, arguments);\n      }\n    } // Fires when the browser has loaded\n    // the current frame of the audio/video\n\n  }, {\n    key: \"handleLoadedData\",\n    value: function handleLoadedData() {\n      var _this$props20 = this.props,\n          actions = _this$props20.actions,\n          onLoadedData = _this$props20.onLoadedData;\n      actions.handleLoadedData(this.getProperties());\n\n      if (onLoadedData) {\n        onLoadedData.apply(void 0, arguments);\n      }\n    } // Fires when the current\n    // playback position has changed\n\n  }, {\n    key: \"handleTimeUpdate\",\n    value: function handleTimeUpdate() {\n      var _this$props21 = this.props,\n          actions = _this$props21.actions,\n          onTimeUpdate = _this$props21.onTimeUpdate;\n      actions.handleTimeUpdate(this.getProperties());\n\n      if (onTimeUpdate) {\n        onTimeUpdate.apply(void 0, arguments);\n      }\n    }\n    /**\n     * Fires when the playing speed of the audio/video is changed\n     */\n\n  }, {\n    key: \"handleRateChange\",\n    value: function handleRateChange() {\n      var _this$props22 = this.props,\n          actions = _this$props22.actions,\n          onRateChange = _this$props22.onRateChange;\n      actions.handleRateChange(this.getProperties());\n\n      if (onRateChange) {\n        onRateChange.apply(void 0, arguments);\n      }\n    } // Fires when the volume has been changed\n\n  }, {\n    key: \"handleVolumeChange\",\n    value: function handleVolumeChange() {\n      var _this$props23 = this.props,\n          actions = _this$props23.actions,\n          onVolumeChange = _this$props23.onVolumeChange;\n      actions.handleVolumeChange(this.getProperties());\n\n      if (onVolumeChange) {\n        onVolumeChange.apply(void 0, arguments);\n      }\n    } // Fires when an error occurred\n    // during the loading of an audio/video\n\n  }, {\n    key: \"handleError\",\n    value: function handleError() {\n      var _this$props24 = this.props,\n          actions = _this$props24.actions,\n          onError = _this$props24.onError;\n      actions.handleError(this.getProperties());\n\n      if (onError) {\n        onError.apply(void 0, arguments);\n      }\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize() {\n      var _this$props25 = this.props,\n          actions = _this$props25.actions,\n          onResize = _this$props25.onResize;\n      actions.handleResize(this.getProperties());\n\n      if (onResize) {\n        onResize.apply(void 0, arguments);\n      }\n    }\n  }, {\n    key: \"handleKeypress\",\n    value: function handleKeypress() {}\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this3 = this;\n\n      var props = (0, _objectSpread2[\"default\"])({}, this.props, {\n        video: this.video\n      }); // to make sure the children can get video property\n\n      if (!this.video) {\n        return null;\n      } // only keep <source />, <track />, <MyComponent isVideoChild /> elements\n\n\n      return _react[\"default\"].Children.toArray(this.props.children).filter(_utils.isVideoChild).map(function (c) {\n        var cprops;\n\n        if (typeof c.type === 'string') {\n          // add onError to <source />\n          if (c.type === 'source') {\n            cprops = (0, _objectSpread2[\"default\"])({}, c.props);\n            var preOnError = cprops.onError;\n\n            cprops.onError = function () {\n              if (preOnError) {\n                preOnError.apply(void 0, arguments);\n              }\n\n              _this3.handleError.apply(_this3, arguments);\n            };\n          }\n        } else {\n          cprops = props;\n        }\n\n        return _react[\"default\"].cloneElement(c, cprops);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props26 = this.props,\n          loop = _this$props26.loop,\n          poster = _this$props26.poster,\n          preload = _this$props26.preload,\n          src = _this$props26.src,\n          autoPlay = _this$props26.autoPlay,\n          playsInline = _this$props26.playsInline,\n          muted = _this$props26.muted,\n          crossOrigin = _this$props26.crossOrigin,\n          videoId = _this$props26.videoId;\n      return _react[\"default\"].createElement(\"video\", {\n        className: (0, _classnames[\"default\"])('video-react-video', this.props.className),\n        id: videoId,\n        crossOrigin: crossOrigin,\n        ref: function ref(c) {\n          _this4.video = c;\n        },\n        muted: muted,\n        preload: preload,\n        loop: loop,\n        playsInline: playsInline,\n        autoPlay: autoPlay,\n        poster: poster,\n        src: src,\n        onLoadStart: this.handleLoadStart,\n        onWaiting: this.handleWaiting,\n        onCanPlay: this.handleCanPlay,\n        onCanPlayThrough: this.handleCanPlayThrough,\n        onPlaying: this.handlePlaying,\n        onEnded: this.handleEnded,\n        onSeeking: this.handleSeeking,\n        onSeeked: this.handleSeeked,\n        onPlay: this.handlePlay,\n        onPause: this.handlePause,\n        onProgress: this.handleProgress,\n        onDurationChange: this.handleDurationChange,\n        onError: this.handleError,\n        onSuspend: this.handleSuspend,\n        onAbort: this.handleAbort,\n        onEmptied: this.handleEmptied,\n        onStalled: this.handleStalled,\n        onLoadedMetadata: this.handleLoadedMetaData,\n        onLoadedData: this.handleLoadedData,\n        onTimeUpdate: this.handleTimeUpdate,\n        onRateChange: this.handleRateChange,\n        onVolumeChange: this.handleVolumeChange,\n        tabIndex: \"-1\"\n      }, this.renderChildren());\n    }\n  }, {\n    key: \"playbackRate\",\n    get: function get() {\n      return this.video.playbackRate;\n    } // set playback rate\n    // speed of video\n    ,\n    set: function set(rate) {\n      this.video.playbackRate = rate;\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.video.muted;\n    },\n    set: function set(val) {\n      this.video.muted = val;\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.video.volume;\n    },\n    set: function set(val) {\n      if (val > 1) {\n        val = 1;\n      }\n\n      if (val < 0) {\n        val = 0;\n      }\n\n      this.video.volume = val;\n    } // video width\n\n  }, {\n    key: \"videoWidth\",\n    get: function get() {\n      return this.video.videoWidth;\n    } // video height\n\n  }, {\n    key: \"videoHeight\",\n    get: function get() {\n      return this.video.videoHeight;\n    }\n  }]);\n  return Video;\n}(_react.Component);\n\nexports[\"default\"] = Video;\nVideo.propTypes = propTypes;\nVideo.displayName = 'Video';","map":{"version":3,"sources":["/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/node_modules/video-react/lib/components/Video.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_objectSpread2","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_propTypes","_react","_classnames","_utils","propTypes","actions","object","player","children","any","startTime","number","loop","bool","muted","autoPlay","playsInline","src","string","poster","className","preload","oneOf","crossOrigin","onLoadStart","func","onWaiting","onCanPlay","onCanPlayThrough","onPlaying","onEnded","onSeeking","onSeeked","onPlay","onPause","onProgress","onDurationChange","onError","onSuspend","onAbort","onEmptied","onStalled","onLoadedMetadata","onLoadedData","onTimeUpdate","onRateChange","onVolumeChange","onResize","Video","_Component","props","_this","call","video","play","bind","pause","seek","forward","replay","toggleFullscreen","getProperties","renderChildren","handleLoadStart","handleCanPlay","handleCanPlayThrough","handlePlay","handlePlaying","handlePause","handleEnded","handleWaiting","handleSeeking","handleSeeked","handleFullscreenChange","handleError","handleSuspend","handleAbort","handleEmptied","handleStalled","handleLoadedMetaData","handleLoadedData","handleTimeUpdate","handleRateChange","handleVolumeChange","handleDurationChange","handleProgress","throttle","handleKeypress","handleTextTrackChange","key","componentDidMount","forceUpdate","textTracks","onaddtrack","onremovetrack","_this2","mediaProperties","reduce","properties","_this$props","activeTextTrack","Array","from","find","textTrack","mode","activateTextTrack","promise","undefined","then","load","addTextTrack","_this$video","apply","arguments","canPlayType","_this$video2","togglePlay","paused","time","currentTime","e","seconds","_this$props2","_this$props3","_this$props4","_this$props5","_this$props6","_this$props7","_this$props8","_this$props9","_this$props10","handleProgressChange","_this$props11","handleEnd","_this$props12","_this$props13","_this$props14","_this$props15","_this$props16","_this$props17","_this$props18","_this$props19","_this$props20","_this$props21","_this$props22","_this$props23","_this$props24","handleResize","_this$props25","_this3","Children","toArray","filter","isVideoChild","map","c","cprops","type","preOnError","cloneElement","render","_this4","_this$props26","videoId","createElement","id","ref","tabIndex","get","playbackRate","set","rate","val","volume","videoWidth","videoHeight","Component","displayName"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _utils = require(\"../utils\");\n\nvar propTypes = {\n  actions: _propTypes[\"default\"].object,\n  player: _propTypes[\"default\"].object,\n  children: _propTypes[\"default\"].any,\n  startTime: _propTypes[\"default\"].number,\n  loop: _propTypes[\"default\"].bool,\n  muted: _propTypes[\"default\"].bool,\n  autoPlay: _propTypes[\"default\"].bool,\n  playsInline: _propTypes[\"default\"].bool,\n  src: _propTypes[\"default\"].string,\n  poster: _propTypes[\"default\"].string,\n  className: _propTypes[\"default\"].string,\n  preload: _propTypes[\"default\"].oneOf(['auto', 'metadata', 'none']),\n  crossOrigin: _propTypes[\"default\"].string,\n  onLoadStart: _propTypes[\"default\"].func,\n  onWaiting: _propTypes[\"default\"].func,\n  onCanPlay: _propTypes[\"default\"].func,\n  onCanPlayThrough: _propTypes[\"default\"].func,\n  onPlaying: _propTypes[\"default\"].func,\n  onEnded: _propTypes[\"default\"].func,\n  onSeeking: _propTypes[\"default\"].func,\n  onSeeked: _propTypes[\"default\"].func,\n  onPlay: _propTypes[\"default\"].func,\n  onPause: _propTypes[\"default\"].func,\n  onProgress: _propTypes[\"default\"].func,\n  onDurationChange: _propTypes[\"default\"].func,\n  onError: _propTypes[\"default\"].func,\n  onSuspend: _propTypes[\"default\"].func,\n  onAbort: _propTypes[\"default\"].func,\n  onEmptied: _propTypes[\"default\"].func,\n  onStalled: _propTypes[\"default\"].func,\n  onLoadedMetadata: _propTypes[\"default\"].func,\n  onLoadedData: _propTypes[\"default\"].func,\n  onTimeUpdate: _propTypes[\"default\"].func,\n  onRateChange: _propTypes[\"default\"].func,\n  onVolumeChange: _propTypes[\"default\"].func,\n  onResize: _propTypes[\"default\"].func\n};\n\nvar Video =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(Video, _Component);\n\n  function Video(props) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Video);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Video).call(this, props));\n    _this.video = null; // the html5 video\n\n    _this.play = _this.play.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.pause = _this.pause.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.seek = _this.seek.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.forward = _this.forward.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.replay = _this.replay.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.toggleFullscreen = _this.toggleFullscreen.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.getProperties = _this.getProperties.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.renderChildren = _this.renderChildren.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleLoadStart = _this.handleLoadStart.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleCanPlay = _this.handleCanPlay.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleCanPlayThrough = _this.handleCanPlayThrough.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handlePlay = _this.handlePlay.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handlePlaying = _this.handlePlaying.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handlePause = _this.handlePause.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEnded = _this.handleEnded.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleWaiting = _this.handleWaiting.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSeeking = _this.handleSeeking.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSeeked = _this.handleSeeked.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleFullscreenChange = _this.handleFullscreenChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleError = _this.handleError.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleSuspend = _this.handleSuspend.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleAbort = _this.handleAbort.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleEmptied = _this.handleEmptied.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleStalled = _this.handleStalled.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleLoadedMetaData = _this.handleLoadedMetaData.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleLoadedData = _this.handleLoadedData.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleTimeUpdate = _this.handleTimeUpdate.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleRateChange = _this.handleRateChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleVolumeChange = _this.handleVolumeChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleDurationChange = _this.handleDurationChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleProgress = (0, _utils.throttle)(_this.handleProgress.bind((0, _assertThisInitialized2[\"default\"])(_this)), 250);\n    _this.handleKeypress = _this.handleKeypress.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    _this.handleTextTrackChange = _this.handleTextTrackChange.bind((0, _assertThisInitialized2[\"default\"])(_this));\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Video, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.forceUpdate(); // make sure the children can get the video property\n\n      if (this.video && this.video.textTracks) {\n        this.video.textTracks.onaddtrack = this.handleTextTrackChange;\n        this.video.textTracks.onremovetrack = this.handleTextTrackChange;\n      }\n    } // get all video properties\n\n  }, {\n    key: \"getProperties\",\n    value: function getProperties() {\n      var _this2 = this;\n\n      if (!this.video) {\n        return null;\n      }\n\n      return _utils.mediaProperties.reduce(function (properties, key) {\n        properties[key] = _this2.video[key];\n        return properties;\n      }, {});\n    } // get playback rate\n\n  }, {\n    key: \"handleTextTrackChange\",\n    value: function handleTextTrackChange() {\n      var _this$props = this.props,\n          actions = _this$props.actions,\n          player = _this$props.player;\n\n      if (this.video && this.video.textTracks) {\n        var activeTextTrack = Array.from(this.video.textTracks).find(function (textTrack) {\n          return textTrack.mode === 'showing';\n        });\n\n        if (activeTextTrack !== player.activeTextTrack) {\n          actions.activateTextTrack(activeTextTrack);\n        }\n      }\n    } // play the video\n\n  }, {\n    key: \"play\",\n    value: function play() {\n      var promise = this.video.play();\n\n      if (promise !== undefined) {\n        promise[\"catch\"](function () {}).then(function () {});\n      }\n    } // pause the video\n\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      var promise = this.video.pause();\n\n      if (promise !== undefined) {\n        promise[\"catch\"](function () {}).then(function () {});\n      }\n    } // Change the video source and re-load the video:\n\n  }, {\n    key: \"load\",\n    value: function load() {\n      this.video.load();\n    } // Add a new text track to the video\n\n  }, {\n    key: \"addTextTrack\",\n    value: function addTextTrack() {\n      var _this$video;\n\n      (_this$video = this.video).addTextTrack.apply(_this$video, arguments);\n    } // Check if your browser can play different types of video:\n\n  }, {\n    key: \"canPlayType\",\n    value: function canPlayType() {\n      var _this$video2;\n\n      (_this$video2 = this.video).canPlayType.apply(_this$video2, arguments);\n    } // toggle play\n\n  }, {\n    key: \"togglePlay\",\n    value: function togglePlay() {\n      if (this.video.paused) {\n        this.play();\n      } else {\n        this.pause();\n      }\n    } // seek video by time\n\n  }, {\n    key: \"seek\",\n    value: function seek(time) {\n      try {\n        this.video.currentTime = time;\n      } catch (e) {// console.log(e, 'Video is not ready.')\n      }\n    } // jump forward x seconds\n\n  }, {\n    key: \"forward\",\n    value: function forward(seconds) {\n      this.seek(this.video.currentTime + seconds);\n    } // jump back x seconds\n\n  }, {\n    key: \"replay\",\n    value: function replay(seconds) {\n      this.forward(-seconds);\n    } // enter or exist full screen\n\n  }, {\n    key: \"toggleFullscreen\",\n    value: function toggleFullscreen() {\n      var _this$props2 = this.props,\n          player = _this$props2.player,\n          actions = _this$props2.actions;\n      actions.toggleFullscreen(player);\n    } // Fired when the user agent\n    // begins looking for media data\n\n  }, {\n    key: \"handleLoadStart\",\n    value: function handleLoadStart() {\n      var _this$props3 = this.props,\n          actions = _this$props3.actions,\n          onLoadStart = _this$props3.onLoadStart;\n      actions.handleLoadStart(this.getProperties());\n\n      if (onLoadStart) {\n        onLoadStart.apply(void 0, arguments);\n      }\n    } // A handler for events that\n    // signal that waiting has ended\n\n  }, {\n    key: \"handleCanPlay\",\n    value: function handleCanPlay() {\n      var _this$props4 = this.props,\n          actions = _this$props4.actions,\n          onCanPlay = _this$props4.onCanPlay;\n      actions.handleCanPlay(this.getProperties());\n\n      if (onCanPlay) {\n        onCanPlay.apply(void 0, arguments);\n      }\n    } // A handler for events that\n    // signal that waiting has ended\n\n  }, {\n    key: \"handleCanPlayThrough\",\n    value: function handleCanPlayThrough() {\n      var _this$props5 = this.props,\n          actions = _this$props5.actions,\n          onCanPlayThrough = _this$props5.onCanPlayThrough;\n      actions.handleCanPlayThrough(this.getProperties());\n\n      if (onCanPlayThrough) {\n        onCanPlayThrough.apply(void 0, arguments);\n      }\n    } // A handler for events that\n    // signal that waiting has ended\n\n  }, {\n    key: \"handlePlaying\",\n    value: function handlePlaying() {\n      var _this$props6 = this.props,\n          actions = _this$props6.actions,\n          onPlaying = _this$props6.onPlaying;\n      actions.handlePlaying(this.getProperties());\n\n      if (onPlaying) {\n        onPlaying.apply(void 0, arguments);\n      }\n    } // Fired whenever the media has been started\n\n  }, {\n    key: \"handlePlay\",\n    value: function handlePlay() {\n      var _this$props7 = this.props,\n          actions = _this$props7.actions,\n          onPlay = _this$props7.onPlay;\n      actions.handlePlay(this.getProperties());\n\n      if (onPlay) {\n        onPlay.apply(void 0, arguments);\n      }\n    } // Fired whenever the media has been paused\n\n  }, {\n    key: \"handlePause\",\n    value: function handlePause() {\n      var _this$props8 = this.props,\n          actions = _this$props8.actions,\n          onPause = _this$props8.onPause;\n      actions.handlePause(this.getProperties());\n\n      if (onPause) {\n        onPause.apply(void 0, arguments);\n      }\n    } // Fired when the duration of\n    // the media resource is first known or changed\n\n  }, {\n    key: \"handleDurationChange\",\n    value: function handleDurationChange() {\n      var _this$props9 = this.props,\n          actions = _this$props9.actions,\n          onDurationChange = _this$props9.onDurationChange;\n      actions.handleDurationChange(this.getProperties());\n\n      if (onDurationChange) {\n        onDurationChange.apply(void 0, arguments);\n      }\n    } // Fired while the user agent\n    // is downloading media data\n\n  }, {\n    key: \"handleProgress\",\n    value: function handleProgress() {\n      var _this$props10 = this.props,\n          actions = _this$props10.actions,\n          onProgress = _this$props10.onProgress;\n\n      if (this.video) {\n        actions.handleProgressChange(this.getProperties());\n      }\n\n      if (onProgress) {\n        onProgress.apply(void 0, arguments);\n      }\n    } // Fired when the end of the media resource\n    // is reached (currentTime == duration)\n\n  }, {\n    key: \"handleEnded\",\n    value: function handleEnded() {\n      var _this$props11 = this.props,\n          loop = _this$props11.loop,\n          player = _this$props11.player,\n          actions = _this$props11.actions,\n          onEnded = _this$props11.onEnded;\n\n      if (loop) {\n        this.seek(0);\n        this.play();\n      } else if (!player.paused) {\n        this.pause();\n      }\n\n      actions.handleEnd(this.getProperties());\n\n      if (onEnded) {\n        onEnded.apply(void 0, arguments);\n      }\n    } // Fired whenever the media begins waiting\n\n  }, {\n    key: \"handleWaiting\",\n    value: function handleWaiting() {\n      var _this$props12 = this.props,\n          actions = _this$props12.actions,\n          onWaiting = _this$props12.onWaiting;\n      actions.handleWaiting(this.getProperties());\n\n      if (onWaiting) {\n        onWaiting.apply(void 0, arguments);\n      }\n    } // Fired whenever the player\n    // is jumping to a new time\n\n  }, {\n    key: \"handleSeeking\",\n    value: function handleSeeking() {\n      var _this$props13 = this.props,\n          actions = _this$props13.actions,\n          onSeeking = _this$props13.onSeeking;\n      actions.handleSeeking(this.getProperties());\n\n      if (onSeeking) {\n        onSeeking.apply(void 0, arguments);\n      }\n    } // Fired when the player has\n    // finished jumping to a new time\n\n  }, {\n    key: \"handleSeeked\",\n    value: function handleSeeked() {\n      var _this$props14 = this.props,\n          actions = _this$props14.actions,\n          onSeeked = _this$props14.onSeeked;\n      actions.handleSeeked(this.getProperties());\n\n      if (onSeeked) {\n        onSeeked.apply(void 0, arguments);\n      }\n    } // Handle Fullscreen Change\n\n  }, {\n    key: \"handleFullscreenChange\",\n    value: function handleFullscreenChange() {} // Fires when the browser is\n    // intentionally not getting media data\n\n  }, {\n    key: \"handleSuspend\",\n    value: function handleSuspend() {\n      var _this$props15 = this.props,\n          actions = _this$props15.actions,\n          onSuspend = _this$props15.onSuspend;\n      actions.handleSuspend(this.getProperties());\n\n      if (onSuspend) {\n        onSuspend.apply(void 0, arguments);\n      }\n    } // Fires when the loading of an audio/video is aborted\n\n  }, {\n    key: \"handleAbort\",\n    value: function handleAbort() {\n      var _this$props16 = this.props,\n          actions = _this$props16.actions,\n          onAbort = _this$props16.onAbort;\n      actions.handleAbort(this.getProperties());\n\n      if (onAbort) {\n        onAbort.apply(void 0, arguments);\n      }\n    } // Fires when the current playlist is empty\n\n  }, {\n    key: \"handleEmptied\",\n    value: function handleEmptied() {\n      var _this$props17 = this.props,\n          actions = _this$props17.actions,\n          onEmptied = _this$props17.onEmptied;\n      actions.handleEmptied(this.getProperties());\n\n      if (onEmptied) {\n        onEmptied.apply(void 0, arguments);\n      }\n    } // Fires when the browser is trying to\n    // get media data, but data is not available\n\n  }, {\n    key: \"handleStalled\",\n    value: function handleStalled() {\n      var _this$props18 = this.props,\n          actions = _this$props18.actions,\n          onStalled = _this$props18.onStalled;\n      actions.handleStalled(this.getProperties());\n\n      if (onStalled) {\n        onStalled.apply(void 0, arguments);\n      }\n    } // Fires when the browser has loaded\n    // meta data for the audio/video\n\n  }, {\n    key: \"handleLoadedMetaData\",\n    value: function handleLoadedMetaData() {\n      var _this$props19 = this.props,\n          actions = _this$props19.actions,\n          onLoadedMetadata = _this$props19.onLoadedMetadata,\n          startTime = _this$props19.startTime;\n\n      if (startTime && startTime > 0) {\n        this.video.currentTime = startTime;\n      }\n\n      actions.handleLoadedMetaData(this.getProperties());\n\n      if (onLoadedMetadata) {\n        onLoadedMetadata.apply(void 0, arguments);\n      }\n    } // Fires when the browser has loaded\n    // the current frame of the audio/video\n\n  }, {\n    key: \"handleLoadedData\",\n    value: function handleLoadedData() {\n      var _this$props20 = this.props,\n          actions = _this$props20.actions,\n          onLoadedData = _this$props20.onLoadedData;\n      actions.handleLoadedData(this.getProperties());\n\n      if (onLoadedData) {\n        onLoadedData.apply(void 0, arguments);\n      }\n    } // Fires when the current\n    // playback position has changed\n\n  }, {\n    key: \"handleTimeUpdate\",\n    value: function handleTimeUpdate() {\n      var _this$props21 = this.props,\n          actions = _this$props21.actions,\n          onTimeUpdate = _this$props21.onTimeUpdate;\n      actions.handleTimeUpdate(this.getProperties());\n\n      if (onTimeUpdate) {\n        onTimeUpdate.apply(void 0, arguments);\n      }\n    }\n    /**\n     * Fires when the playing speed of the audio/video is changed\n     */\n\n  }, {\n    key: \"handleRateChange\",\n    value: function handleRateChange() {\n      var _this$props22 = this.props,\n          actions = _this$props22.actions,\n          onRateChange = _this$props22.onRateChange;\n      actions.handleRateChange(this.getProperties());\n\n      if (onRateChange) {\n        onRateChange.apply(void 0, arguments);\n      }\n    } // Fires when the volume has been changed\n\n  }, {\n    key: \"handleVolumeChange\",\n    value: function handleVolumeChange() {\n      var _this$props23 = this.props,\n          actions = _this$props23.actions,\n          onVolumeChange = _this$props23.onVolumeChange;\n      actions.handleVolumeChange(this.getProperties());\n\n      if (onVolumeChange) {\n        onVolumeChange.apply(void 0, arguments);\n      }\n    } // Fires when an error occurred\n    // during the loading of an audio/video\n\n  }, {\n    key: \"handleError\",\n    value: function handleError() {\n      var _this$props24 = this.props,\n          actions = _this$props24.actions,\n          onError = _this$props24.onError;\n      actions.handleError(this.getProperties());\n\n      if (onError) {\n        onError.apply(void 0, arguments);\n      }\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize() {\n      var _this$props25 = this.props,\n          actions = _this$props25.actions,\n          onResize = _this$props25.onResize;\n      actions.handleResize(this.getProperties());\n\n      if (onResize) {\n        onResize.apply(void 0, arguments);\n      }\n    }\n  }, {\n    key: \"handleKeypress\",\n    value: function handleKeypress() {}\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this3 = this;\n\n      var props = (0, _objectSpread2[\"default\"])({}, this.props, {\n        video: this.video\n      }); // to make sure the children can get video property\n\n      if (!this.video) {\n        return null;\n      } // only keep <source />, <track />, <MyComponent isVideoChild /> elements\n\n\n      return _react[\"default\"].Children.toArray(this.props.children).filter(_utils.isVideoChild).map(function (c) {\n        var cprops;\n\n        if (typeof c.type === 'string') {\n          // add onError to <source />\n          if (c.type === 'source') {\n            cprops = (0, _objectSpread2[\"default\"])({}, c.props);\n            var preOnError = cprops.onError;\n\n            cprops.onError = function () {\n              if (preOnError) {\n                preOnError.apply(void 0, arguments);\n              }\n\n              _this3.handleError.apply(_this3, arguments);\n            };\n          }\n        } else {\n          cprops = props;\n        }\n\n        return _react[\"default\"].cloneElement(c, cprops);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$props26 = this.props,\n          loop = _this$props26.loop,\n          poster = _this$props26.poster,\n          preload = _this$props26.preload,\n          src = _this$props26.src,\n          autoPlay = _this$props26.autoPlay,\n          playsInline = _this$props26.playsInline,\n          muted = _this$props26.muted,\n          crossOrigin = _this$props26.crossOrigin,\n          videoId = _this$props26.videoId;\n      return _react[\"default\"].createElement(\"video\", {\n        className: (0, _classnames[\"default\"])('video-react-video', this.props.className),\n        id: videoId,\n        crossOrigin: crossOrigin,\n        ref: function ref(c) {\n          _this4.video = c;\n        },\n        muted: muted,\n        preload: preload,\n        loop: loop,\n        playsInline: playsInline,\n        autoPlay: autoPlay,\n        poster: poster,\n        src: src,\n        onLoadStart: this.handleLoadStart,\n        onWaiting: this.handleWaiting,\n        onCanPlay: this.handleCanPlay,\n        onCanPlayThrough: this.handleCanPlayThrough,\n        onPlaying: this.handlePlaying,\n        onEnded: this.handleEnded,\n        onSeeking: this.handleSeeking,\n        onSeeked: this.handleSeeked,\n        onPlay: this.handlePlay,\n        onPause: this.handlePause,\n        onProgress: this.handleProgress,\n        onDurationChange: this.handleDurationChange,\n        onError: this.handleError,\n        onSuspend: this.handleSuspend,\n        onAbort: this.handleAbort,\n        onEmptied: this.handleEmptied,\n        onStalled: this.handleStalled,\n        onLoadedMetadata: this.handleLoadedMetaData,\n        onLoadedData: this.handleLoadedData,\n        onTimeUpdate: this.handleTimeUpdate,\n        onRateChange: this.handleRateChange,\n        onVolumeChange: this.handleVolumeChange,\n        tabIndex: \"-1\"\n      }, this.renderChildren());\n    }\n  }, {\n    key: \"playbackRate\",\n    get: function get() {\n      return this.video.playbackRate;\n    } // set playback rate\n    // speed of video\n    ,\n    set: function set(rate) {\n      this.video.playbackRate = rate;\n    }\n  }, {\n    key: \"muted\",\n    get: function get() {\n      return this.video.muted;\n    },\n    set: function set(val) {\n      this.video.muted = val;\n    }\n  }, {\n    key: \"volume\",\n    get: function get() {\n      return this.video.volume;\n    },\n    set: function set(val) {\n      if (val > 1) {\n        val = 1;\n      }\n\n      if (val < 0) {\n        val = 0;\n      }\n\n      this.video.volume = val;\n    } // video width\n\n  }, {\n    key: \"videoWidth\",\n    get: function get() {\n      return this.video.videoWidth;\n    } // video height\n\n  }, {\n    key: \"videoHeight\",\n    get: function get() {\n      return this.video.videoHeight;\n    }\n  }]);\n  return Video;\n}(_react.Component);\n\nexports[\"default\"] = Video;\nVideo.propTypes = propTypes;\nVideo.displayName = 'Video';"]},"metadata":{},"sourceType":"script"}