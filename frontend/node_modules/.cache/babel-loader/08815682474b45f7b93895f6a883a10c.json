{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar propTypes = {\n  manager: _propTypes[\"default\"].object,\n  className: _propTypes[\"default\"].string\n};\n\nvar Bezel =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(Bezel, _Component);\n\n  function Bezel(props, context) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Bezel);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Bezel).call(this, props, context));\n    _this.timer = null;\n    props.manager.subscribeToOperationStateChange(_this.handleStateChange.bind((0, _assertThisInitialized2[\"default\"])(_this)));\n    _this.state = {\n      hidden: true,\n      operation: {}\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Bezel, [{\n    key: \"handleStateChange\",\n    value: function handleStateChange(state, prevState) {\n      var _this2 = this;\n\n      if (state.count !== prevState.count && state.operation.source === 'shortcut') {\n        if (this.timer) {\n          // previous animation is not finished\n          clearTimeout(this.timer); // cancel it\n\n          this.timer = null;\n        } // show it\n        // update operation\n\n\n        this.setState({\n          hidden: false,\n          count: state.count,\n          operation: state.operation\n        }); // hide it after 0.5s\n\n        this.timer = setTimeout(function () {\n          _this2.setState({\n            hidden: true\n          });\n\n          _this2.timer = null;\n        }, 500);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // only displays for shortcut so far\n      if (this.state.operation.source !== 'shortcut') {\n        return null;\n      }\n\n      var style = this.state.hidden ? {\n        display: 'none'\n      } : null;\n      return _react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames[\"default\"])({\n          'video-react-bezel': true,\n          'video-react-bezel-animation': this.state.count % 2 === 0,\n          'video-react-bezel-animation-alt': this.state.count % 2 === 1\n        }, this.props.className),\n        style: style,\n        role: \"status\",\n        \"aria-label\": this.state.operation.action\n      }, _react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames[\"default\"])('video-react-bezel-icon', \"video-react-bezel-icon-\".concat(this.state.operation.action))\n      }));\n    }\n  }]);\n  return Bezel;\n}(_react.Component);\n\nexports[\"default\"] = Bezel;\nBezel.propTypes = propTypes;\nBezel.displayName = 'Bezel';","map":{"version":3,"sources":["/Users/aqchen/go/src/github.com/alanqchen/Bear-Post/frontend/node_modules/video-react/lib/components/Bezel.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","_classCallCheck2","_createClass2","_possibleConstructorReturn2","_getPrototypeOf2","_assertThisInitialized2","_inherits2","_propTypes","_react","_classnames","propTypes","manager","object","className","string","Bezel","_Component","props","context","_this","call","timer","subscribeToOperationStateChange","handleStateChange","bind","state","hidden","operation","key","prevState","_this2","count","source","clearTimeout","setState","setTimeout","render","style","display","createElement","role","action","concat","Component","displayName"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar propTypes = {\n  manager: _propTypes[\"default\"].object,\n  className: _propTypes[\"default\"].string\n};\n\nvar Bezel =\n/*#__PURE__*/\nfunction (_Component) {\n  (0, _inherits2[\"default\"])(Bezel, _Component);\n\n  function Bezel(props, context) {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, Bezel);\n    _this = (0, _possibleConstructorReturn2[\"default\"])(this, (0, _getPrototypeOf2[\"default\"])(Bezel).call(this, props, context));\n    _this.timer = null;\n    props.manager.subscribeToOperationStateChange(_this.handleStateChange.bind((0, _assertThisInitialized2[\"default\"])(_this)));\n    _this.state = {\n      hidden: true,\n      operation: {}\n    };\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(Bezel, [{\n    key: \"handleStateChange\",\n    value: function handleStateChange(state, prevState) {\n      var _this2 = this;\n\n      if (state.count !== prevState.count && state.operation.source === 'shortcut') {\n        if (this.timer) {\n          // previous animation is not finished\n          clearTimeout(this.timer); // cancel it\n\n          this.timer = null;\n        } // show it\n        // update operation\n\n\n        this.setState({\n          hidden: false,\n          count: state.count,\n          operation: state.operation\n        }); // hide it after 0.5s\n\n        this.timer = setTimeout(function () {\n          _this2.setState({\n            hidden: true\n          });\n\n          _this2.timer = null;\n        }, 500);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // only displays for shortcut so far\n      if (this.state.operation.source !== 'shortcut') {\n        return null;\n      }\n\n      var style = this.state.hidden ? {\n        display: 'none'\n      } : null;\n      return _react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames[\"default\"])({\n          'video-react-bezel': true,\n          'video-react-bezel-animation': this.state.count % 2 === 0,\n          'video-react-bezel-animation-alt': this.state.count % 2 === 1\n        }, this.props.className),\n        style: style,\n        role: \"status\",\n        \"aria-label\": this.state.operation.action\n      }, _react[\"default\"].createElement(\"div\", {\n        className: (0, _classnames[\"default\"])('video-react-bezel-icon', \"video-react-bezel-icon-\".concat(this.state.operation.action))\n      }));\n    }\n  }]);\n  return Bezel;\n}(_react.Component);\n\nexports[\"default\"] = Bezel;\nBezel.propTypes = propTypes;\nBezel.displayName = 'Bezel';"]},"metadata":{},"sourceType":"script"}